!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.evergis={})}(this,function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var i=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),r=n(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)});r.version;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}var d=function(t){return"object"===o(t)?null!==t:"function"==typeof t},p=function(t){if(!d(t))throw TypeError(t+" is not an object!");return t},v=function(t){try{return!!t()}catch(t){return!0}},y=!v(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=i.document,_=d(g)&&d(g.createElement),m=function(t){return _?g.createElement(t):{}},b=!y&&!v(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!d(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!d(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!d(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!d(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,k={f:y?Object.defineProperty:function(t,e,n){if(p(t),e=w(e,!0),p(n),b)try{return x(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=y?function(t,e,n){return k.f(t,e,C(1,n))}:function(t,e,n){return t[e]=n,t},E={}.hasOwnProperty,M=function(t,e){return E.call(t,e)},O=0,A=Math.random(),F=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+A).toString(36))},P=n(function(t){var e=F("src"),n=Function.toString,o=(""+n).split("toString");r.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,r,s){var a="function"==typeof r;a&&(M(r,"name")||S(r,"name",n)),t[n]!==r&&(a&&(M(r,e)||S(r,e,t[n]?""+t[n]:o.join(String(n)))),t===i?t[n]=r:s?t[n]?t[n]=r:S(t,n,r):(delete t[n],S(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),T=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},j=function(t,e,n){if(T(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},R=function t(e,n,o){var s,a,c,u,h=e&t.F,l=e&t.G,f=e&t.P,d=e&t.B,p=l?i:e&t.S?i[n]||(i[n]={}):(i[n]||{}).prototype,v=l?r:r[n]||(r[n]={}),y=v.prototype||(v.prototype={});for(s in l&&(o=n),o)c=((a=!h&&p&&void 0!==p[s])?p:o)[s],u=d&&a?j(c,i):f&&"function"==typeof c?j(Function.call,c):c,p&&P(p,s,c,e&t.U),v[s]!=c&&S(v,s,u),f&&y[s]!=c&&(y[s]=c)};i.core=r,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var I,D,L=R,B=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},N=function(t){return Object(B(t))},G=[].sort,H=[1,2,3];L(L.P+L.F*(v(function(){H.sort(void 0)})||!v(function(){H.sort(null)})||!((I=G)&&v(function(){D?I.call(null,function(){},1):I.call(null)}))),"Array",{sort:function(t){return void 0===t?G.call(N(this)):G.call(N(this),T(t))}});for(var U,W=F("typed_array"),z=F("view"),Y=!(!i.ArrayBuffer||!i.DataView),V=Y,Q=0,K="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");Q<9;)(U=i[K[Q++]])?(S(U.prototype,W,!0),S(U.prototype,z,!0)):V=!1;var Z={ABV:Y,CONSTR:V,TYPED:W,VIEW:z},J=function(t,e,n){for(var i in e)P(t,i,e[i],n);return t},X=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t},q=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:q)(t)},et=Math.min,nt=function(t){return t>0?et(tt(t),9007199254740991):0},it=function(t){if(void 0===t)return 0;var e=tt(t),n=nt(e);if(e!==n)throw RangeError("Wrong length!");return n},rt={}.toString,ot=function(t){return rt.call(t).slice(8,-1)},st=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==ot(t)?t.split(""):Object(t)},at=function(t){return st(B(t))},ct=Math.max,ut=Math.min,ht=function(t,e){return(t=tt(t))<0?ct(t+e,0):ut(t,e)},lt=function(t){return function(e,n,i){var r,o=at(e),s=nt(o.length),a=ht(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},ft=i["__core-js_shared__"]||(i["__core-js_shared__"]={}),dt=function(t){return ft[t]||(ft[t]={})},pt=dt("keys"),vt=function(t){return pt[t]||(pt[t]=F(t))},yt=lt(!1),gt=vt("IE_PROTO"),_t=function(t,e){var n,i=at(t),r=0,o=[];for(n in i)n!=gt&&M(i,n)&&o.push(n);for(;e.length>r;)M(i,n=e[r++])&&(~yt(o,n)||o.push(n));return o},mt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),bt=mt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return _t(t,bt)}},xt=function(t){for(var e=N(this),n=nt(e.length),i=arguments.length,r=ht(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:ht(o,n);s>r;)e[r++]=t;return e},kt=n(function(t){var e=dt("wks"),n=i.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:F)("Symbol."+t))}).store=e}),Ct=k.f,St=kt("toStringTag"),Et=function(t,e,n){t&&!M(t=n?t:t.prototype,St)&&Ct(t,St,{configurable:!0,value:e})},Mt=n(function(t,e){var n=wt.f,r=k.f,o="prototype",s="Wrong index!",a=i.ArrayBuffer,c=i.DataView,u=i.Math,h=i.RangeError,l=i.Infinity,f=a,d=u.abs,p=u.pow,g=u.floor,_=u.log,m=u.LN2,b=y?"_b":"buffer",w=y?"_l":"byteLength",x=y?"_o":"byteOffset";function C(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,u=c>>1,h=23===e?p(2,-24)-p(2,-77):0,f=0,v=t<0||0===t&&1/t<0?1:0;for((t=d(t))!=t||t===l?(r=t!=t?1:0,i=c):(i=g(_(t)/m),t*(o=p(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?h/o:h*p(2,1-u))*o>=2&&(i++,o/=2),i+u>=c?(r=0,i=c):i+u>=1?(r=(t*o-1)*p(2,e),i+=u):(r=t*p(2,u-1)*p(2,e),i=0));e>=8;s[f++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[f++]=255&i,i/=256,a-=8);return s[--f]|=128*v,s}function E(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,c=n-1,u=t[c--],h=127&u;for(u>>=7;a>0;h=256*h+t[c],c--,a-=8);for(i=h&(1<<-a)-1,h>>=-a,a+=e;a>0;i=256*i+t[c],c--,a-=8);if(0===h)h=1-s;else{if(h===o)return i?NaN:u?-l:l;i+=p(2,e),h-=s}return(u?-1:1)*i*p(2,h-e)}function M(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function O(t){return[255&t]}function A(t){return[255&t,t>>8&255]}function F(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function P(t){return C(t,52,8)}function T(t){return C(t,23,4)}function j(t,e,n){r(t[o],e,{get:function(){return this[n]}})}function R(t,e,n,i){var r=it(+n);if(r+e>t[w])throw h(s);var o=t[b]._b,a=r+t[x],c=o.slice(a,a+e);return i?c:c.reverse()}function I(t,e,n,i,r,o){var a=it(+n);if(a+e>t[w])throw h(s);for(var c=t[b]._b,u=a+t[x],l=i(+r),f=0;f<e;f++)c[u+f]=l[o?f:e-f-1]}if(Z.ABV){if(!v(function(){a(1)})||!v(function(){new a(-1)})||v(function(){return new a,new a(1.5),new a(NaN),"ArrayBuffer"!=a.name})){for(var D,L=(a=function(t){return X(this,a),new f(it(t))})[o]=f[o],B=n(f),N=0;B.length>N;)(D=B[N++])in a||S(a,D,f[D]);L.constructor=a}var G=new c(new a(2)),H=c[o].setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||J(c[o],{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},!0)}else a=function(t){X(this,a,"ArrayBuffer");var e=it(t);this._b=xt.call(new Array(e),0),this[w]=e},c=function(t,e,n){X(this,c,"DataView"),X(t,a,"DataView");var i=t[w],r=tt(e);if(r<0||r>i)throw h("Wrong offset!");if(r+(n=void 0===n?i-r:nt(n))>i)throw h("Wrong length!");this[b]=t,this[x]=r,this[w]=n},y&&(j(a,"byteLength","_l"),j(c,"buffer","_b"),j(c,"byteLength","_l"),j(c,"byteOffset","_o")),J(c[o],{getInt8:function(t){return R(this,1,t)[0]<<24>>24},getUint8:function(t){return R(this,1,t)[0]},getInt16:function(t){var e=R(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=R(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return M(R(this,4,t,arguments[1]))},getUint32:function(t){return M(R(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return E(R(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return E(R(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){I(this,1,t,O,e)},setUint8:function(t,e){I(this,1,t,O,e)},setInt16:function(t,e){I(this,2,t,A,e,arguments[2])},setUint16:function(t,e){I(this,2,t,A,e,arguments[2])},setInt32:function(t,e){I(this,4,t,F,e,arguments[2])},setUint32:function(t,e){I(this,4,t,F,e,arguments[2])},setFloat32:function(t,e){I(this,4,t,T,e,arguments[2])},setFloat64:function(t,e){I(this,8,t,P,e,arguments[2])}});Et(a,"ArrayBuffer"),Et(c,"DataView"),S(c[o],Z.VIEW,!0),e.ArrayBuffer=a,e.DataView=c}),Ot=kt("species"),At=function(t,e){var n,i=p(t).constructor;return void 0===i||void 0==(n=p(i)[Ot])?e:T(n)},Ft=kt("species"),Pt=function(t){var e=i[t];y&&e&&!e[Ft]&&k.f(e,Ft,{configurable:!0,get:function(){return this}})},Tt=i.ArrayBuffer,jt=Mt.ArrayBuffer,Rt=Mt.DataView,It=Z.ABV&&Tt.isView,Dt=jt.prototype.slice,Lt=Z.VIEW;L(L.G+L.W+L.F*(Tt!==jt),{ArrayBuffer:jt}),L(L.S+L.F*!Z.CONSTR,"ArrayBuffer",{isView:function(t){return It&&It(t)||d(t)&&Lt in t}}),L(L.P+L.U+L.F*v(function(){return!new jt(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==Dt&&void 0===e)return Dt.call(p(this),t);for(var n=p(this).byteLength,i=ht(t,n),r=ht(void 0===e?n:e,n),o=new(At(this,jt))(nt(r-i)),s=new Rt(this),a=new Rt(o),c=0;i<r;)a.setUint8(c++,s.getUint8(i++));return o}}),Pt("ArrayBuffer");var Bt=kt("toStringTag"),Nt="Arguments"==ot(function(){return arguments}()),Gt=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Bt))?n:Nt?ot(e):"Object"==(i=ot(e))&&"function"==typeof e.callee?"Arguments":i},Ht={},Ut=kt("iterator"),Wt=Array.prototype,zt=function(t){return void 0!==t&&(Ht.Array===t||Wt[Ut]===t)},Yt=Object.keys||function(t){return _t(t,mt)},Vt=y?Object.defineProperties:function(t,e){p(t);for(var n,i=Yt(e),r=i.length,o=0;r>o;)k.f(t,n=i[o++],e[n]);return t},Qt=i.document,Kt=Qt&&Qt.documentElement,Zt=vt("IE_PROTO"),Jt=function(){},Xt=function(){var t,e=m("iframe"),n=mt.length;for(e.style.display="none",Kt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Xt=t.F;n--;)delete Xt.prototype[mt[n]];return Xt()},qt=Object.create||function(t,e){var n;return null!==t?(Jt.prototype=p(t),n=new Jt,Jt.prototype=null,n[Zt]=t):n=Xt(),void 0===e?n:Vt(n,e)},$t=vt("IE_PROTO"),te=Object.prototype,ee=Object.getPrototypeOf||function(t){return t=N(t),M(t,$t)?t[$t]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?te:null},ne=kt("iterator"),ie=r.getIteratorMethod=function(t){if(void 0!=t)return t[ne]||t["@@iterator"]||Ht[Gt(t)]},re=Array.isArray||function(t){return"Array"==ot(t)},oe=kt("species"),se=function(t,e){return new(function(t){var e;return re(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!re(e.prototype)||(e=void 0),d(e)&&null===(e=e[oe])&&(e=void 0)),void 0===e?Array:e}(t))(e)},ae=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,c=e||se;return function(e,u,h){for(var l,f,d=N(e),p=st(d),v=j(u,h,3),y=nt(p.length),g=0,_=n?c(e,y):i?c(e,0):void 0;y>g;g++)if((a||g in p)&&(f=v(l=p[g],g,d),t))if(n)_[g]=f;else if(f)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:_.push(l)}else if(o)return!1;return s?-1:r||o?o:_}},ce=kt("unscopables"),ue=Array.prototype;void 0==ue[ce]&&S(ue,ce,{});var he=function(t){ue[ce][t]=!0},le=function(t,e){return{value:e,done:!!t}},fe={};S(fe,kt("iterator"),function(){return this});var de=function(t,e,n){t.prototype=qt(fe,{next:C(1,n)}),Et(t,e+" Iterator")},pe=kt("iterator"),ve=!([].keys&&"next"in[].keys()),ye=function(){return this},ge=function(t,e,n,i,r,o,s){de(n,e,i);var a,c,u,h=function(t){if(!ve&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",f="values"==r,d=!1,p=t.prototype,v=p[pe]||p["@@iterator"]||r&&p[r],y=!ve&&v||h(r),g=r?f?h("entries"):y:void 0,_="Array"==e&&p.entries||v;if(_&&(u=ee(_.call(new t)))!==Object.prototype&&u.next&&(Et(u,l,!0),M(u,pe)||S(u,pe,ye)),f&&v&&"values"!==v.name&&(d=!0,y=function(){return v.call(this)}),(ve||d||!p[pe])&&S(p,pe,y),Ht[e]=y,Ht[l]=ye,r)if(a={values:f?y:h("values"),keys:o?y:h("keys"),entries:g},s)for(c in a)c in p||P(p,c,a[c]);else L(L.P+L.F*(ve||d),e,a);return a},_e=ge(Array,"Array",function(t,e){this._t=at(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,le(1)):le(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ht.Arguments=Ht.Array,he("keys"),he("values"),he("entries");var me=kt("iterator"),be=!1;try{[7][me]().return=function(){be=!0}}catch(Oo){}var we=function(t,e){if(!e&&!be)return!1;var n=!1;try{var i=[7],r=i[me]();r.next=function(){return{done:n=!0}},i[me]=function(){return r},t(i)}catch(t){}return n},xe=[].copyWithin||function(t,e){var n=N(this),i=nt(n.length),r=ht(t,i),o=ht(e,i),s=arguments.length>2?arguments[2]:void 0,a=Math.min((void 0===s?i:ht(s,i))-o,i-r),c=1;for(o<r&&r<o+a&&(c=-1,o+=a-1,r+=a-1);a-- >0;)o in n?n[r]=n[o]:delete n[r],r+=c,o+=c;return n},ke={f:{}.propertyIsEnumerable},Ce=Object.getOwnPropertyDescriptor,Se={f:y?Ce:function(t,e){if(t=at(t),e=w(e,!0),b)try{return Ce(t,e)}catch(t){}if(M(t,e))return C(!ke.f.call(t,e),t[e])}},Ee=n(function(t){if(y){var e=i,n=v,r=L,s=Z,a=Mt,c=j,u=X,h=C,l=S,f=J,p=tt,g=nt,_=it,m=ht,b=w,x=M,E=Gt,O=d,A=N,P=zt,T=qt,R=ee,I=wt.f,D=ie,B=F,G=kt,H=ae,U=lt,W=At,z=_e,Y=Ht,V=we,Q=Pt,K=xt,q=xe,$=k,et=Se,rt=$.f,ot=et.f,st=e.RangeError,at=e.TypeError,ct=e.Uint8Array,ut=Array.prototype,ft=a.ArrayBuffer,dt=a.DataView,pt=H(0),vt=H(2),yt=H(3),gt=H(4),_t=H(5),mt=H(6),bt=U(!0),Ct=U(!1),St=z.values,Et=z.keys,Ot=z.entries,Ft=ut.lastIndexOf,Tt=ut.reduce,jt=ut.reduceRight,Rt=ut.join,It=ut.sort,Dt=ut.slice,Lt=ut.toString,Bt=ut.toLocaleString,Nt=G("iterator"),Ut=G("toStringTag"),Wt=B("typed_constructor"),Yt=B("def_constructor"),Vt=s.CONSTR,Qt=s.TYPED,Kt=s.VIEW,Zt=H(1,function(t,e){return ne(W(t,t[Yt]),e)}),Jt=n(function(){return 1===new ct(new Uint16Array([1]).buffer)[0]}),Xt=!!ct&&!!ct.prototype.set&&n(function(){new ct(1).set({})}),$t=function(t,e){var n=p(t);if(n<0||n%e)throw st("Wrong offset!");return n},te=function(t){if(O(t)&&Qt in t)return t;throw at(t+" is not a typed array!")},ne=function(t,e){if(!(O(t)&&Wt in t))throw at("It is not a typed array constructor!");return new t(e)},re=function(t,e){return oe(W(t,t[Yt]),e)},oe=function(t,e){for(var n=0,i=e.length,r=ne(t,i);i>n;)r[n]=e[n++];return r},se=function(t,e,n){rt(t,e,{get:function(){return this._d[n]}})},ce=function(t){var e,n,i,r,o,s,a=A(t),u=arguments.length,h=u>1?arguments[1]:void 0,l=void 0!==h,f=D(a);if(void 0!=f&&!P(f)){for(s=f.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(l&&u>2&&(h=c(h,arguments[2],2)),e=0,n=g(a.length),r=ne(this,n);n>e;e++)r[e]=l?h(a[e],e):a[e];return r},ue=function(){for(var t=0,e=arguments.length,n=ne(this,e);e>t;)n[t]=arguments[t++];return n},he=!!ct&&n(function(){Bt.call(new ct(1))}),le=function(){return Bt.apply(he?Dt.call(te(this)):te(this),arguments)},fe={copyWithin:function(t,e){return q.call(te(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return gt(te(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return K.apply(te(this),arguments)},filter:function(t){return re(this,vt(te(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return _t(te(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return mt(te(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){pt(te(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return Ct(te(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return bt(te(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return Rt.apply(te(this),arguments)},lastIndexOf:function(t){return Ft.apply(te(this),arguments)},map:function(t){return Zt(te(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return Tt.apply(te(this),arguments)},reduceRight:function(t){return jt.apply(te(this),arguments)},reverse:function(){for(var t,e=te(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return yt(te(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return It.call(te(this),t)},subarray:function(t,e){var n=te(this),i=n.length,r=m(t,i);return new(W(n,n[Yt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?i:m(e,i))-r))}},de=function(t,e){return re(this,Dt.call(te(this),t,e))},pe=function(t){te(this);var e=$t(arguments[1],1),n=this.length,i=A(t),r=g(i.length),o=0;if(r+e>n)throw st("Wrong length!");for(;o<r;)this[e+o]=i[o++]},ve={entries:function(){return Ot.call(te(this))},keys:function(){return Et.call(te(this))},values:function(){return St.call(te(this))}},ye=function(t,e){return O(t)&&t[Qt]&&"symbol"!=o(e)&&e in t&&String(+e)==String(e)},ge=function(t,e){return ye(t,e=b(e,!0))?h(2,t[e]):ot(t,e)},me=function(t,e,n){return!(ye(t,e=b(e,!0))&&O(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?rt(t,e,n):(t[e]=n.value,t)};Vt||(et.f=ge,$.f=me),r(r.S+r.F*!Vt,"Object",{getOwnPropertyDescriptor:ge,defineProperty:me}),n(function(){Lt.call({})})&&(Lt=Bt=function(){return Rt.call(this)});var be=f({},fe);f(be,ve),l(be,Nt,ve.values),f(be,{slice:de,set:pe,constructor:function(){},toString:Lt,toLocaleString:le}),se(be,"buffer","b"),se(be,"byteOffset","o"),se(be,"byteLength","l"),se(be,"length","e"),rt(be,Ut,{get:function(){return this[Qt]}}),t.exports=function(t,i,o,a){var c=t+((a=!!a)?"Clamped":"")+"Array",h="get"+t,f="set"+t,d=e[c],p=d||{},v=d&&R(d),y=!d||!s.ABV,m={},b=d&&d.prototype,w=function(t,e){rt(t,e,{get:function(){return function(t,e){var n=t._d;return n.v[h](e*i+n.o,Jt)}(this,e)},set:function(t){return function(t,e,n){var r=t._d;a&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[f](e*i+r.o,n,Jt)}(this,e,t)},enumerable:!0})};y?(d=o(function(t,e,n,r){u(t,d,c,"_d");var o,s,a,h,f=0,p=0;if(O(e)){if(!(e instanceof ft||"ArrayBuffer"==(h=E(e))||"SharedArrayBuffer"==h))return Qt in e?oe(d,e):ce.call(d,e);o=e,p=$t(n,i);var v=e.byteLength;if(void 0===r){if(v%i)throw st("Wrong length!");if((s=v-p)<0)throw st("Wrong length!")}else if((s=g(r)*i)+p>v)throw st("Wrong length!");a=s/i}else a=_(e),o=new ft(s=a*i);for(l(t,"_d",{b:o,o:p,l:s,e:a,v:new dt(o)});f<a;)w(t,f++)}),b=d.prototype=T(be),l(b,"constructor",d)):n(function(){d(1)})&&n(function(){new d(-1)})&&V(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=o(function(t,e,n,r){var o;return u(t,d,c),O(e)?e instanceof ft||"ArrayBuffer"==(o=E(e))||"SharedArrayBuffer"==o?void 0!==r?new p(e,$t(n,i),r):void 0!==n?new p(e,$t(n,i)):new p(e):Qt in e?oe(d,e):ce.call(d,e):new p(_(e))}),pt(v!==Function.prototype?I(p).concat(I(v)):I(p),function(t){t in d||l(d,t,p[t])}),d.prototype=b,b.constructor=d);var x=b[Nt],k=!!x&&("values"==x.name||void 0==x.name),C=ve.values;l(d,Wt,!0),l(b,Qt,c),l(b,Kt,!0),l(b,Yt,d),(a?new d(1)[Ut]==c:Ut in b)||rt(b,Ut,{get:function(){return c}}),m[c]=d,r(r.G+r.W+r.F*(d!=p),m),r(r.S,c,{BYTES_PER_ELEMENT:i}),r(r.S+r.F*n(function(){p.of.call(d,1)}),c,{from:ce,of:ue}),"BYTES_PER_ELEMENT"in b||l(b,"BYTES_PER_ELEMENT",i),r(r.P,c,fe),Q(c),r(r.P+r.F*Xt,c,{set:pe}),r(r.P+r.F*!k,c,ve),b.toString!=Lt&&(b.toString=Lt),r(r.P+r.F*n(function(){new d(1).slice()}),c,{slice:de}),r(r.P+r.F*(n(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!n(function(){b.toLocaleString.call([1,2])})),c,{toLocaleString:le}),Y[c]=k?x:C,k||l(b,Nt,C)}}else t.exports=function(){}});Ee("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0),Ee("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}}),Ee("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}});var Me=function(t,e,n,i){try{return i?e(p(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&p(r.call(t)),e}},Oe=n(function(t){var e={},n={},i=t.exports=function(t,i,r,o,s){var a,c,u,h,l=s?function(){return t}:ie(t),f=j(r,o,i?2:1),d=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(zt(l)){for(a=nt(t.length);a>d;d++)if((h=i?f(p(c=t[d])[0],c[1]):f(t[d]))===e||h===n)return h}else for(u=l.call(t);!(c=u.next()).done;)if((h=Me(u,f,c.value,i))===e||h===n)return h};i.BREAK=e,i.RETURN=n}),Ae=n(function(t){var e=F("meta"),n=k.f,i=0,r=Object.isExtensible||function(){return!0},s=!v(function(){return r(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},c=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!d(t))return"symbol"==o(t)?t:("string"==typeof t?"S":"P")+t;if(!M(t,e)){if(!r(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!M(t,e)){if(!r(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return s&&c.NEED&&r(t)&&!M(t,e)&&a(t),t}}}),Fe=(Ae.KEY,Ae.NEED,Ae.fastKey,Ae.getWeak,Ae.onFreeze,function(t,e){if(!d(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),Pe=k.f,Te=Ae.fastKey,je=y?"_s":"size",Re=function(t,e){var n,i=Te(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n},Ie={getConstructor:function(t,e,n,i){var r=t(function(t,o){X(t,r,e,"_i"),t._t=e,t._i=qt(null),t._f=void 0,t._l=void 0,t[je]=0,void 0!=o&&Oe(o,n,t[i],t)});return J(r.prototype,{clear:function(){for(var t=Fe(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[je]=0},delete:function(t){var n=Fe(this,e),i=Re(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[je]--}return!!i},forEach:function(t){Fe(this,e);for(var n,i=j(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!Re(Fe(this,e),t)}}),y&&Pe(r.prototype,"size",{get:function(){return Fe(this,e)[je]}}),r},def:function(t,e,n){var i,r,o=Re(t,e);return o?o.v=n:(t._l=o={i:r=Te(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[je]++,"F"!==r&&(t._i[r]=o)),t},getEntry:Re,setStrong:function(t,e,n){ge(t,e,function(t,n){this._t=Fe(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?le(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,le(1))},n?"entries":"values",!n,!0),Pt(e)}},De=function(t,e){if(p(t),!d(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Le={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=j(Function.call,Se.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return De(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:De},Be=Le.set,Ne=function(t,e,n,r,o,s){var a=i[t],c=a,u=o?"set":"add",h=c&&c.prototype,l={},f=function(t){var e=h[t];P(h,t,"delete"==t?function(t){return!(s&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof c&&(s||h.forEach&&!v(function(){(new c).entries().next()}))){var p=new c,y=p[u](s?{}:-0,1)!=p,g=v(function(){p.has(1)}),_=we(function(t){new c(t)}),m=!s&&v(function(){for(var t=new c,e=5;e--;)t[u](e,e);return!t.has(-0)});_||((c=e(function(e,n){X(e,c,t);var i=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&d(i)&&Be&&Be(t,i),t}(new a,e,c);return void 0!=n&&Oe(n,o,i[u],i),i})).prototype=h,h.constructor=c),(g||m)&&(f("delete"),f("has"),o&&f("get")),(m||y)&&f(u),s&&h.clear&&delete h.clear}else c=r.getConstructor(e,t,o,u),J(c.prototype,n),Ae.NEED=!0;return Et(c,t),l[t]=c,L(L.G+L.W+L.F*(c!=a),l),s||r.setStrong(c,t,o),c},Ge=(Ne("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=Ie.getEntry(Fe(this,"Map"),t);return e&&e.v},set:function(t,e){return Ie.def(Fe(this,"Map"),0===t?0:t,e)}},Ie,!0),Ne("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Ie.def(Fe(this,"Set"),t=0===t?0:t,t)}},Ie),{f:Object.getOwnPropertySymbols}),He=Object.assign,Ue=!He||v(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=He({},t)[n]||Object.keys(He({},e)).join("")!=i})?function(t,e){for(var n=N(t),i=arguments.length,r=1,o=Ge.f,s=ke.f;i>r;)for(var a,c=st(arguments[r++]),u=o?Yt(c).concat(o(c)):Yt(c),h=u.length,l=0;h>l;)s.call(c,a=u[l++])&&(n[a]=c[a]);return n}:He,We=Ae.getWeak,ze=ae(5),Ye=ae(6),Ve=0,Qe=function(t){return t._l||(t._l=new Ke)},Ke=function(){this.a=[]},Ze=function(t,e){return ze(t.a,function(t){return t[0]===e})};Ke.prototype={get:function(t){var e=Ze(this,t);if(e)return e[1]},has:function(t){return!!Ze(this,t)},set:function(t,e){var n=Ze(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=Ye(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}};var Je={getConstructor:function(t,e,n,i){var r=t(function(t,o){X(t,r,e,"_i"),t._t=e,t._i=Ve++,t._l=void 0,void 0!=o&&Oe(o,n,t[i],t)});return J(r.prototype,{delete:function(t){if(!d(t))return!1;var n=We(t);return!0===n?Qe(Fe(this,e)).delete(t):n&&M(n,this._i)&&delete n[this._i]},has:function(t){if(!d(t))return!1;var n=We(t);return!0===n?Qe(Fe(this,e)).has(t):n&&M(n,this._i)}}),r},def:function(t,e,n){var i=We(p(e),!0);return!0===i?Qe(t).set(e,n):i[t._i]=n,t},ufstore:Qe};n(function(t){var e,n=ae(0),i=Ae.getWeak,r=Object.isExtensible,o=Je.ufstore,s={},a=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},c={get:function(t){if(d(t)){var e=i(t);return!0===e?o(Fe(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return Je.def(Fe(this,"WeakMap"),t,e)}},u=t.exports=Ne("WeakMap",a,c,Je,!0,!0);v(function(){return 7!=(new u).set((Object.freeze||Object)(s),7).get(s)})&&(e=Je.getConstructor(a,"WeakMap"),Ue(e.prototype,c),Ae.NEED=!0,n(["delete","has","get","set"],function(t){var n=u.prototype,i=n[t];P(n,t,function(n,o){if(d(n)&&!r(n)){this._f||(this._f=new e);var s=this._f[t](n,o);return"set"==t?this:s}return i.call(this,n,o)})}))});Ne("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Je.def(Fe(this,"WeakSet"),t,!0)}},Je,!1,!0);var Xe=(i.Reflect||{}).apply,qe=Function.apply;L(L.S+L.F*!v(function(){Xe(function(){})}),"Reflect",{apply:function(t,e,n){var i=T(t),r=p(n);return Xe?Xe(i,e,r):qe.call(i,e,r)}});var $e=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},tn=[].slice,en={},nn=Function.bind||function(t){var e=T(this),n=tn.call(arguments,1),i=function i(){var r=n.concat(tn.call(arguments));return this instanceof i?function(t,e,n){if(!(e in en)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";en[e]=Function("F,a","return new F("+i.join(",")+")")}return en[e](t,n)}(e,r.length,r):$e(e,r,t)};return d(e.prototype)&&(i.prototype=e.prototype),i},rn=(i.Reflect||{}).construct,on=v(function(){function t(){}return!(rn(function(){},[],t)instanceof t)}),sn=!v(function(){rn(function(){})});L(L.S+L.F*(on||sn),"Reflect",{construct:function(t,e){T(t),p(e);var n=arguments.length<3?t:T(arguments[2]);if(sn&&!on)return rn(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(nn.apply(t,i))}var r=n.prototype,o=qt(d(r)?r:Object.prototype),s=Function.apply.call(t,o,e);return d(s)?s:o}}),L(L.S+L.F*v(function(){Reflect.defineProperty(k.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){p(t),e=w(e,!0),p(n);try{return k.f(t,e,n),!0}catch(t){return!1}}});var an=Se.f;L(L.S,"Reflect",{deleteProperty:function(t,e){var n=an(p(t),e);return!(n&&!n.configurable)&&delete t[e]}}),L(L.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return p(e)===o?e[n]:(i=Se.f(e,n))?M(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:d(r=ee(e))?t(r,n,o):void 0}}),L(L.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return Se.f(p(t),e)}}),L(L.S,"Reflect",{getPrototypeOf:function(t){return ee(p(t))}}),L(L.S,"Reflect",{has:function(t,e){return e in t}});var cn=Object.isExtensible;L(L.S,"Reflect",{isExtensible:function(t){return p(t),!cn||cn(t)}});var un=i.Reflect,hn=un&&un.ownKeys||function(t){var e=wt.f(p(t)),n=Ge.f;return n?e.concat(n(t)):e};L(L.S,"Reflect",{ownKeys:hn});var ln=Object.preventExtensions;L(L.S,"Reflect",{preventExtensions:function(t){p(t);try{return ln&&ln(t),!0}catch(t){return!1}}}),L(L.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],a=Se.f(p(e),n);if(!a){if(d(o=ee(e)))return t(o,n,i,s);a=C(0)}return M(a,"value")?!(!1===a.writable||!d(s)||((r=Se.f(s,n)||C(0)).value=i,k.f(s,n,r),0)):void 0!==a.set&&(a.set.call(s,i),!0)}}),Le&&L(L.S,"Reflect",{setPrototypeOf:function(t,e){Le.check(t,e);try{return Le.set(t,e),!0}catch(t){return!1}}});var fn,dn,pn,vn=i.process,yn=i.setImmediate,gn=i.clearImmediate,_n=i.MessageChannel,mn=i.Dispatch,bn=0,wn={},xn=function(){var t=+this;if(wn.hasOwnProperty(t)){var e=wn[t];delete wn[t],e()}},kn=function(t){xn.call(t.data)};yn&&gn||(yn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return wn[++bn]=function(){$e("function"==typeof t?t:Function(t),e)},fn(bn),bn},gn=function(t){delete wn[t]},"process"==ot(vn)?fn=function(t){vn.nextTick(j(xn,t,1))}:mn&&mn.now?fn=function(t){mn.now(j(xn,t,1))}:_n?(pn=(dn=new _n).port2,dn.port1.onmessage=kn,fn=j(pn.postMessage,pn,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(fn=function(t){i.postMessage(t+"","*")},i.addEventListener("message",kn,!1)):fn="onreadystatechange"in m("script")?function(t){Kt.appendChild(m("script")).onreadystatechange=function(){Kt.removeChild(this),xn.call(t)}}:function(t){setTimeout(j(xn,t,1),0)});var Cn={set:yn,clear:gn},Sn=Cn.set,En=i.MutationObserver||i.WebKitMutationObserver,Mn=i.process,On=i.Promise,An="process"==ot(Mn);var Fn,Pn,Tn,jn,Rn={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=T(e),this.reject=T(n)}(t)}},In=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Dn=Cn.set,Ln=function(){var t,e,n,r=function(){var i,r;for(An&&(i=Mn.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(An)n=function(){Mn.nextTick(r)};else if(!En||i.navigator&&i.navigator.standalone)if(On&&On.resolve){var o=On.resolve();n=function(){o.then(r)}}else n=function(){Sn.call(i,r)};else{var s=!0,a=document.createTextNode("");new En(r).observe(a,{characterData:!0}),n=function(){a.data=s=!s}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}(),Bn=i.TypeError,Nn=i.process,Gn=i.Promise,Hn="process"==Gt(Nn),Un=function(){},Wn=Pn=Rn.f,zn=!!function(){try{var t=Gn.resolve(1),e=(t.constructor={})[kt("species")]=function(t){t(Un,Un)};return(Hn||"function"==typeof PromiseRejectionEvent)&&t.then(Un)instanceof e}catch(t){}}(),Yn=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},Vn=function(t,e){if(!t._n){t._n=!0;var n=t._c;Ln(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s=r?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&Zn(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===e.promise?c(Bn("Promise-chain cycle")):(o=Yn(n))?o.call(n,a,c):a(n)):c(i)}catch(t){c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Qn(t)})}},Qn=function(t){Dn.call(i,function(){var e,n,r,o=t._v,s=Kn(t);if(s&&(e=In(function(){Hn?Nn.emit("unhandledRejection",o,t):(n=i.onunhandledrejection)?n({promise:t,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=Hn||Kn(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},Kn=function(t){return 1!==t._h&&0===(t._a||t._c).length},Zn=function(t){Dn.call(i,function(){var e;Hn?Nn.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},Jn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Vn(e,!0))},Xn=function t(e){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw Bn("Promise can't be resolved itself");(n=Yn(e))?Ln(function(){var r={_w:i,_d:!1};try{n.call(e,j(t,r,1),j(Jn,r,1))}catch(t){Jn.call(r,t)}}):(i._v=e,i._s=1,Vn(i,!1))}catch(t){Jn.call({_w:i,_d:!1},t)}}};zn||(Gn=function(t){X(this,Gn,"Promise","_h"),T(t),Fn.call(this);try{t(j(Xn,this,1),j(Jn,this,1))}catch(t){Jn.call(this,t)}},(Fn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=J(Gn.prototype,{then:function(t,e){var n=Wn(At(this,Gn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Hn?Nn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Vn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Tn=function(){var t=new Fn;this.promise=t,this.resolve=j(Xn,t,1),this.reject=j(Jn,t,1)},Rn.f=Wn=function(t){return t===Gn||t===jn?new Tn(t):Pn(t)}),L(L.G+L.W+L.F*!zn,{Promise:Gn}),Et(Gn,"Promise"),Pt("Promise"),jn=r.Promise,L(L.S+L.F*!zn,"Promise",{reject:function(t){var e=Wn(this);return(0,e.reject)(t),e.promise}}),L(L.S+L.F*!zn,"Promise",{resolve:function(t){return function(t,e){if(p(t),d(e)&&e.constructor===t)return e;var n=Rn.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),L(L.S+L.F*!(zn&&we(function(t){Gn.all(t).catch(Un)})),"Promise",{all:function(t){var e=this,n=Wn(e),i=n.resolve,r=n.reject,o=In(function(){var n=[],o=0,s=1;Oe(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=Wn(e),i=n.reject,r=In(function(){Oe(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}});var qn={f:kt},$n=k.f,ti=function(t){var e=r.Symbol||(r.Symbol=i.Symbol||{});"_"==t.charAt(0)||t in e||$n(e,t,{value:qn.f(t)})},ei=wt.f,ni={}.toString,ii="object"==("undefined"==typeof window?"undefined":o(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ri={f:function(t){return ii&&"[object Window]"==ni.call(t)?function(t){try{return ei(t)}catch(t){return ii.slice()}}(t):ei(at(t))}},oi=Ae.KEY,si=Se.f,ai=k.f,ci=ri.f,ui=i.Symbol,hi=i.JSON,li=hi&&hi.stringify,fi=kt("_hidden"),di=kt("toPrimitive"),pi={}.propertyIsEnumerable,vi=dt("symbol-registry"),yi=dt("symbols"),gi=dt("op-symbols"),_i=Object.prototype,mi="function"==typeof ui,bi=i.QObject,wi=!bi||!bi.prototype||!bi.prototype.findChild,xi=y&&v(function(){return 7!=qt(ai({},"a",{get:function(){return ai(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=si(_i,e);i&&delete _i[e],ai(t,e,n),i&&t!==_i&&ai(_i,e,i)}:ai,ki=function(t){var e=yi[t]=qt(ui.prototype);return e._k=t,e},Ci=mi&&"symbol"==o(ui.iterator)?function(t){return"symbol"==o(t)}:function(t){return t instanceof ui},Si=function(t,e,n){return t===_i&&Si(gi,e,n),p(t),e=w(e,!0),p(n),M(yi,e)?(n.enumerable?(M(t,fi)&&t[fi][e]&&(t[fi][e]=!1),n=qt(n,{enumerable:C(0,!1)})):(M(t,fi)||ai(t,fi,C(1,{})),t[fi][e]=!0),xi(t,e,n)):ai(t,e,n)},Ei=function(t,e){p(t);for(var n,i=function(t){var e=Yt(t),n=Ge.f;if(n)for(var i,r=n(t),o=ke.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}(e=at(e)),r=0,o=i.length;o>r;)Si(t,n=i[r++],e[n]);return t},Mi=function(t){var e=pi.call(this,t=w(t,!0));return!(this===_i&&M(yi,t)&&!M(gi,t))&&(!(e||!M(this,t)||!M(yi,t)||M(this,fi)&&this[fi][t])||e)},Oi=function(t,e){if(t=at(t),e=w(e,!0),t!==_i||!M(yi,e)||M(gi,e)){var n=si(t,e);return!n||!M(yi,e)||M(t,fi)&&t[fi][e]||(n.enumerable=!0),n}},Ai=function(t){for(var e,n=ci(at(t)),i=[],r=0;n.length>r;)M(yi,e=n[r++])||e==fi||e==oi||i.push(e);return i},Fi=function(t){for(var e,n=t===_i,i=ci(n?gi:at(t)),r=[],o=0;i.length>o;)!M(yi,e=i[o++])||n&&!M(_i,e)||r.push(yi[e]);return r};mi||(P((ui=function(){if(this instanceof ui)throw TypeError("Symbol is not a constructor!");var t=F(arguments.length>0?arguments[0]:void 0);return y&&wi&&xi(_i,t,{configurable:!0,set:function e(n){this===_i&&e.call(gi,n),M(this,fi)&&M(this[fi],t)&&(this[fi][t]=!1),xi(this,t,C(1,n))}}),ki(t)}).prototype,"toString",function(){return this._k}),Se.f=Oi,k.f=Si,wt.f=ri.f=Ai,ke.f=Mi,Ge.f=Fi,y&&P(_i,"propertyIsEnumerable",Mi,!0),qn.f=function(t){return ki(kt(t))}),L(L.G+L.W+L.F*!mi,{Symbol:ui});for(var Pi="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ti=0;Pi.length>Ti;)kt(Pi[Ti++]);for(var ji=Yt(kt.store),Ri=0;ji.length>Ri;)ti(ji[Ri++]);L(L.S+L.F*!mi,"Symbol",{for:function(t){return M(vi,t+="")?vi[t]:vi[t]=ui(t)},keyFor:function(t){if(!Ci(t))throw TypeError(t+" is not a symbol!");for(var e in vi)if(vi[e]===t)return e},useSetter:function(){wi=!0},useSimple:function(){wi=!1}}),L(L.S+L.F*!mi,"Object",{create:function(t,e){return void 0===e?qt(t):Ei(qt(t),e)},defineProperty:Si,defineProperties:Ei,getOwnPropertyDescriptor:Oi,getOwnPropertyNames:Ai,getOwnPropertySymbols:Fi}),hi&&L(L.S+L.F*(!mi||v(function(){var t=ui();return"[null]"!=li([t])||"{}"!=li({a:t})||"{}"!=li(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(d(e)||void 0!==t)&&!Ci(t))return re(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Ci(e))return e}),i[1]=e,li.apply(hi,i)}}),ui.prototype[di]||S(ui.prototype,di,ui.prototype.valueOf),Et(ui,"Symbol"),Et(Math,"Math",!0),Et(i.JSON,"JSON",!0);var Ii=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),L(L.S+L.F*v(function(){n(1)}),"Object",i)},Di=Ae.onFreeze;Ii("freeze",function(t){return function(e){return t&&d(e)?t(Di(e)):e}});var Li=Ae.onFreeze;Ii("seal",function(t){return function(e){return t&&d(e)?t(Li(e)):e}});var Bi=Ae.onFreeze;Ii("preventExtensions",function(t){return function(e){return t&&d(e)?t(Bi(e)):e}}),Ii("isFrozen",function(t){return function(e){return!d(e)||!!t&&t(e)}}),Ii("isSealed",function(t){return function(e){return!d(e)||!!t&&t(e)}}),Ii("isExtensible",function(t){return function(e){return!!d(e)&&(!t||t(e))}});var Ni=Se.f;Ii("getOwnPropertyDescriptor",function(){return function(t,e){return Ni(at(t),e)}}),Ii("getPrototypeOf",function(){return function(t){return ee(N(t))}}),Ii("keys",function(){return function(t){return Yt(N(t))}}),Ii("getOwnPropertyNames",function(){return ri.f}),L(L.S+L.F,"Object",{assign:Ue});var Gi=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};L(L.S,"Object",{is:Gi}),L(L.S,"Object",{setPrototypeOf:Le.set});var Hi=k.f,Ui=Function.prototype,Wi=/^\s*function ([^ (]*)/;"name"in Ui||y&&Hi(Ui,"name",{configurable:!0,get:function(){try{return(""+this).match(Wi)[1]}catch(t){return""}}}),L(L.S,"String",{raw:function(t){for(var e=at(t.raw),n=nt(e.length),i=arguments.length,r=[],o=0;n>o;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}});var zi=String.fromCharCode,Yi=String.fromCodePoint;L(L.S+L.F*(!!Yi&&1!=Yi.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;i>r;){if(e=+arguments[r++],ht(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?zi(e):zi(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}});var Vi,Qi=(Vi=!1,function(t,e){var n,i,r=String(B(t)),o=tt(e),s=r.length;return o<0||o>=s?Vi?"":void 0:(n=r.charCodeAt(o))<55296||n>56319||o+1===s||(i=r.charCodeAt(o+1))<56320||i>57343?Vi?r.charAt(o):n:Vi?r.slice(o,o+2):i-56320+(n-55296<<10)+65536});L(L.P,"String",{codePointAt:function(t){return Qi(this,t)}});var Ki=function(t){var e=String(B(this)),n="",i=tt(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n};L(L.P,"String",{repeat:Ki});var Zi=kt("match"),Ji=function(t){var e;return d(t)&&(void 0!==(e=t[Zi])?!!e:"RegExp"==ot(t))},Xi=function(t,e,n){if(Ji(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(B(t))},qi=kt("match"),$i=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[qi]=!1,!"/./"[t](e)}catch(t){}}return!0},tr="".startsWith;L(L.P+L.F*$i("startsWith"),"String",{startsWith:function(t){var e=Xi(this,t,"startsWith"),n=nt(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return tr?tr.call(e,i,n):e.slice(n,n+i.length)===i}});var er="".endsWith;L(L.P+L.F*$i("endsWith"),"String",{endsWith:function(t){var e=Xi(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=nt(e.length),r=void 0===n?i:Math.min(nt(n),i),o=String(t);return er?er.call(e,o,r):e.slice(r-o.length,r)===o}});L(L.P+L.F*$i("includes"),"String",{includes:function(t){return!!~Xi(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});y&&"g"!=/./g.flags&&k.f(RegExp.prototype,"flags",{configurable:!0,get:function(){var t=p(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}});var nr=function(t,e,n){var i=kt(t),r=n(B,i,""[t]),o=r[0],s=r[1];v(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})&&(P(String.prototype,t,o),S(RegExp.prototype,i,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))};nr("match",1,function(t,e,n){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}),nr("replace",2,function(t,e,n){return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]}),nr("split",2,function(t,e,n){var i=Ji,r=n,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return r.call(n,t,e);var a,c,u,h,l,f=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,d+"g");for(s||(a=new RegExp("^"+y.source+"$(?!\\s)",d));(c=y.exec(n))&&!((u=c.index+c[0].length)>p&&(f.push(n.slice(p,c.index)),!s&&c.length>1&&c[0].replace(a,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(c[l]=void 0)}),c.length>1&&c.index<n.length&&o.apply(f,c.slice(1)),h=c[0].length,p=u,f.length>=v));)y.lastIndex===c.index&&y.lastIndex++;return p===n.length?!h&&y.test("")||f.push(""):f.push(n.slice(p)),f.length>v?f.slice(0,v):f}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)});return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]}),nr("search",1,function(t,e,n){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]});var ir=function(t,e,n){e in t?k.f(t,e,C(0,n)):t[e]=n};L(L.S+L.F*!we(function(t){}),"Array",{from:function(t){var e,n,i,r,o=N(t),s="function"==typeof this?this:Array,a=arguments.length,c=a>1?arguments[1]:void 0,u=void 0!==c,h=0,l=ie(o);if(u&&(c=j(c,a>2?arguments[2]:void 0,2)),void 0==l||s==Array&&zt(l))for(n=new s(e=nt(o.length));e>h;h++)ir(n,h,u?c(o[h],h):o[h]);else for(r=l.call(o),n=new s;!(i=r.next()).done;h++)ir(n,h,u?Me(r,c,[i.value,h],!0):i.value);return n.length=h,n}}),L(L.S+L.F*v(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)ir(n,t,arguments[t++]);return n.length=e,n}}),L(L.P,"Array",{copyWithin:xe}),he("copyWithin");var rr=ae(5),or=!0;"find"in[]&&Array(1).find(function(){or=!1}),L(L.P+L.F*or,"Array",{find:function(t){return rr(this,t,arguments.length>1?arguments[1]:void 0)}}),he("find");var sr=ae(6),ar=!0;"findIndex"in[]&&Array(1).findIndex(function(){ar=!1}),L(L.P+L.F*ar,"Array",{findIndex:function(t){return sr(this,t,arguments.length>1?arguments[1]:void 0)}}),he("findIndex"),L(L.P,"Array",{fill:xt}),he("fill");var cr=i.isFinite;L(L.S,"Number",{isFinite:function(t){return"number"==typeof t&&cr(t)}});var ur=Math.floor,hr=function(t){return!d(t)&&isFinite(t)&&ur(t)===t};L(L.S,"Number",{isInteger:hr});var lr=Math.abs;L(L.S,"Number",{isSafeInteger:function(t){return hr(t)&&lr(t)<=9007199254740991}}),L(L.S,"Number",{isNaN:function(t){return t!=t}}),L(L.S,"Number",{EPSILON:Math.pow(2,-52)}),L(L.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),L(L.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});var fr="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",dr="["+fr+"]",pr=RegExp("^"+dr+dr+"*"),vr=RegExp(dr+dr+"*$"),yr=function(t,e,n){var i={},r=v(function(){return!!fr[t]()||"​"!="​"[t]()}),o=i[t]=r?e(gr):fr[t];n&&(i[n]=o),L(L.P+L.F*r,"String",i)},gr=yr.trim=function(t,e){return t=String(B(t)),1&e&&(t=t.replace(pr,"")),2&e&&(t=t.replace(vr,"")),t},_r=yr,mr=i.parseFloat,br=_r.trim,wr=1/mr(fr+"-0")!=-1/0?function(t){var e=br(String(t),3),n=mr(e);return 0===n&&"-"==e.charAt(0)?-0:n}:mr;L(L.S+L.F*(Number.parseFloat!=wr),"Number",{parseFloat:wr});var xr=i.parseInt,kr=_r.trim,Cr=/^[-+]?0[xX]/,Sr=8!==xr(fr+"08")||22!==xr(fr+"0x16")?function(t,e){var n=kr(String(t),3);return xr(n,e>>>0||(Cr.test(n)?16:10))}:xr;L(L.S+L.F*(Number.parseInt!=Sr),"Number",{parseInt:Sr});var Er=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)},Mr=Math.sqrt,Or=Math.acosh;L(L.S+L.F*!(Or&&710==Math.floor(Or(Number.MAX_VALUE))&&Or(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:Er(t-1+Mr(t-1)*Mr(t+1))}});var Ar=Math.asinh;L(L.S+L.F*!(Ar&&1/Ar(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}});var Fr=Math.atanh;L(L.S+L.F*!(Fr&&1/Fr(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});var Pr=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};L(L.S,"Math",{cbrt:function(t){return Pr(t=+t)*Math.pow(Math.abs(t),1/3)}}),L(L.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var Tr=Math.exp;L(L.S,"Math",{cosh:function(t){return(Tr(t=+t)+Tr(-t))/2}});var jr=Math.expm1,Rr=!jr||jr(10)>22025.465794806718||jr(10)<22025.465794806718||-2e-17!=jr(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:jr;L(L.S+L.F*(Rr!=Math.expm1),"Math",{expm1:Rr});var Ir=Math.pow,Dr=Ir(2,-52),Lr=Ir(2,-23),Br=Ir(2,127)*(2-Lr),Nr=Ir(2,-126),Gr=Math.fround||function(t){var e,n,i=Math.abs(t),r=Pr(t);return i<Nr?r*(i/Nr/Lr+1/Dr-1/Dr)*Nr*Lr:(n=(e=(1+Lr/Dr)*i)-(e-i))>Br||n!=n?r*(1/0):r*n};L(L.S,"Math",{fround:Gr});var Hr=Math.abs;L(L.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=Hr(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*Math.sqrt(r)}});var Ur=Math.imul;L(L.S+L.F*v(function(){return-5!=Ur(4294967295,5)||2!=Ur.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}}),L(L.S,"Math",{log1p:Er}),L(L.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}}),L(L.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}}),L(L.S,"Math",{sign:Pr});var Wr=Math.exp;L(L.S+L.F*v(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(Rr(t)-Rr(-t))/2:(Wr(t-1)-Wr(-t-1))*(Math.E/2)}});var zr=Math.exp;L(L.S,"Math",{tanh:function(t){var e=Rr(t=+t),n=Rr(-t);return e==1/0?1:n==1/0?-1:(e-n)/(zr(t)+zr(-t))}}),L(L.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}});var Yr=lt(!0);L(L.P,"Array",{includes:function(t){return Yr(this,t,arguments.length>1?arguments[1]:void 0)}}),he("includes");var Vr=ke.f,Qr=function(t){return function(e){for(var n,i=at(e),r=Yt(i),o=r.length,s=0,a=[];o>s;)Vr.call(i,n=r[s++])&&a.push(t?[n,i[n]]:i[n]);return a}},Kr=Qr(!1);L(L.S,"Object",{values:function(t){return Kr(t)}});var Zr=Qr(!0);L(L.S,"Object",{entries:function(t){return Zr(t)}}),L(L.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=at(t),r=Se.f,o=hn(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&ir(s,e,n);return s}});var Jr=function(t,e,n,i){var r=String(B(t)),o=r.length,s=void 0===n?" ":String(n),a=nt(e);if(a<=o||""==s)return r;var c=a-o,u=Ki.call(s,Math.ceil(c/s.length));return u.length>c&&(u=u.slice(0,c)),i?u+r:r+u},Xr=i.navigator,qr=Xr&&Xr.userAgent||"";L(L.P+L.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(qr),"String",{padStart:function(t){return Jr(this,t,arguments.length>1?arguments[1]:void 0,!0)}}),L(L.P+L.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(qr),"String",{padEnd:function(t){return Jr(this,t,arguments.length>1?arguments[1]:void 0,!1)}});var $r=[].slice,to=/MSIE .\./.test(qr),eo=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&$r.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};L(L.G+L.B+L.F*to,{setTimeout:eo(i.setTimeout),setInterval:eo(i.setInterval)}),L(L.G+L.B,{setImmediate:Cn.set,clearImmediate:Cn.clear});for(var no=kt("iterator"),io=kt("toStringTag"),ro=Ht.Array,oo={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},so=Yt(oo),ao=0;ao<so.length;ao++){var co,uo=so[ao],ho=oo[uo],lo=i[uo],fo=lo&&lo.prototype;if(fo&&(fo[no]||S(fo,no,ro),fo[io]||S(fo,io,uo),Ht[uo]=ro,ho))for(co in _e)fo[co]||P(fo,co,_e[co],!0)}n(function(t){!function(e){var n,i=Object.prototype,r=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag",h=e.regeneratorRuntime;if(h)t.exports=h;else{(h=e.regeneratorRuntime=t.exports).wrap=b;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",v={},y={};y[a]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(P([])));_&&_!==i&&r.call(_,a)&&(y=_);var m=C.prototype=x.prototype=Object.create(y);k.prototype=m.constructor=C,C.constructor=k,C[u]=k.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[c]=function(){return this},h.AsyncIterator=E,h.async=function(t,e,n,i){var r=new E(b(t,e,n,i));return h.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},h.values=P,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),v}}}function b(t,e,n,i){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),s=new F(i||[]);return o._invoke=function(t,e,n){var i=l;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=w(t,e,n);if("normal"===c.type){if(i=n.done?p:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function k(){}function C(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(n,i){function s(){return new Promise(function(e,s){!function e(n,i,s,a){var c=w(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===o(h)&&r.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,s,a)},function(t){e("throw",t,s,a)}):Promise.resolve(h).then(function(t){u.value=t,s(u)},a)}a(c.arg)}(n,i,e,s)})}return e=e?e.then(s,s):s()}}function M(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,M(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=w(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())});var po=n(function(t,n){var i,r;i=e,r=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(t,e){return null!=t&&"object"===o(t)&&e in t}var a=RegExp.prototype.test;var c=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(c,t)}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var l=/\s*/,f=/\s+/,d=/\s*=/,p=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;function y(t){this.string=t,this.tail=t,this.pos=0}function g(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function _(){this.cache={}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},y.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},g.prototype.push=function(t){return new g(t,this)},g.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,o,a=this,c=!1;a;){if(t.indexOf(".")>0)for(e=a.view,r=t.split("."),o=0;null!=e&&o<r.length;)o===r.length-1&&(c=s(e,r[o])),e=e[r[o++]];else e=a.view[t],c=s(a.view,t);if(c)break;a=a.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},_.prototype.clearCache=function(){this.cache={}},_.prototype.parse=function(e,i){var o=this.cache,s=o[e];return null==s&&(s=o[e]=function(e,i){if(!e)return[];var o,s,a,c=[],h=[],g=[],_=!1,m=!1;function b(){if(_&&!m)for(;g.length;)delete h[g.pop()];else g=[];_=!1,m=!1}function w(t){if("string"==typeof t&&(t=t.split(f,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),s=new RegExp("\\s*"+r(t[1])),a=new RegExp("\\s*"+r("}"+t[1]))}w(i||t.tags);for(var x,k,C,S,E,M,O=new y(e);!O.eos();){if(x=O.pos,C=O.scanUntil(o))for(var A=0,F=C.length;A<F;++A)u(S=C.charAt(A))?g.push(h.length):m=!0,h.push(["text",S,x,x+1]),x+=1,"\n"===S&&b();if(!O.scan(o))break;if(_=!0,k=O.scan(v)||"name",O.scan(l),"="===k?(C=O.scanUntil(d),O.scan(d),O.scanUntil(s)):"{"===k?(C=O.scanUntil(a),O.scan(p),O.scanUntil(s),k="&"):C=O.scanUntil(s),!O.scan(s))throw new Error("Unclosed tag at "+O.pos);if(E=[k,C,x,O.pos],h.push(E),"#"===k||"^"===k)c.push(E);else if("/"===k){if(!(M=c.pop()))throw new Error('Unopened section "'+C+'" at '+x);if(M[1]!==C)throw new Error('Unclosed section "'+M[1]+'" at '+x)}else"name"===k||"{"===k||"&"===k?m=!0:"="===k&&w(C)}if(M=c.pop())throw new Error('Unclosed section "'+M[1]+'" at '+O.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,s=t.length;o<s;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(h))}(e,i)),s},_.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof g?e:new g(e);return this.renderTokens(i,r,n,t)},_.prototype.renderTokens=function(t,e,n,i){for(var r,o,s,a="",c=0,u=t.length;c<u;++c)s=void 0,"#"===(o=(r=t[c])[0])?s=this.renderSection(r,e,n,i):"^"===o?s=this.renderInverted(r,e,n,i):">"===o?s=this.renderPartial(r,e,n,i):"&"===o?s=this.unescapedValue(r,e):"name"===o?s=this.escapedValue(r,e):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},_.prototype.renderSection=function(t,e,r,s){var a=this,c="",u=e.lookup(t[1]);if(u){if(n(u))for(var h=0,l=u.length;h<l;++h)c+=this.renderTokens(t[4],e.push(u[h]),r,s);else if("object"===o(u)||"string"==typeof u||"number"==typeof u)c+=this.renderTokens(t[4],e.push(u),r,s);else if(i(u)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,s.slice(t[3],t[5]),function(t){return a.render(t,e,r)}))&&(c+=u)}else c+=this.renderTokens(t[4],e,r,s);return c}},_.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},_.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},_.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},_.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},_.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var m=new _;return t.clearCache=function(){return m.clearCache()},t.parse=function(t,e){return m.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":o(r))+'" was given as the first argument for mustache#render(template, view, partials)');var r;return m.render(t,e,i)},t.to_html=function(e,n,r,o){var s=t.render(e,n,r);if(!i(o))return s;o(s)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return h[t]})},t.Scanner=y,t.Context=g,t.Writer=_,t},n&&"string"!=typeof n.nodeName?r(n):(i.Mustache={},r(i.Mustache))}),vo=n(function(t,e){(function(t,e){var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function i(t){try{delete window[t]}catch(e){window[t]=void 0}}function r(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t,s=e.timeout||n.timeout,a=e.jsonpCallback||n.jsonpCallback,c=void 0;return new Promise(function(n,u){var h=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),l=a+"_"+h;window[h]=function(t){n({ok:!0,json:function(){return Promise.resolve(t)}}),c&&clearTimeout(c),r(l),i(h)},o+=-1===o.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+o+a+"="+h),e.charset&&f.setAttribute("charset",e.charset),f.id=l,document.getElementsByTagName("head")[0].appendChild(f),c=setTimeout(function(){u(new Error("JSONP request to "+t+" timed out")),i(h),r(l),window[h]=function(){i(h)}},s),f.onerror=function(){u(new Error("JSONP request to "+t+" failed")),i(h),r(l),c&&clearTimeout(c)}})}})(0,t)}),yo=function(t){return t/180*Math.PI},go=function(t){return t/Math.PI*180},_o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(t-e)<=n},mo=function(t){var e=f(t,2);return[e[0],e[1]]},bo=function(){function t(e,n){s(this,t),this._projections=new Map,this._discoveryMode=!1,e&&Object.assign(this,e),n&&(this._projections=n)}return c(t,[{key:"toString",value:function(){return this.wkid?this.wkid.toString():this.wkt?this.wkt:this.details||"Unknown crs"}},{key:"equals",value:function(t){return this===t||(!(!this.wkid||this.wkid!==t.wkid)||!!this.wkt&&this.wkt===t.wkt)}},{key:"projectionTo",value:function(t){return this._projections.get(t)||this._discoverProjectionTo(t)}},{key:"canProjectTo",value:function(t){return null!==this.projectionTo(t)}},{key:"setProjectionTo",value:function(t,e){this._projections.set(t,e)}},{key:"_discoverProjectionTo",value:function(t){var e=this;if(this._discoveryMode)return null;if(this.equals(t))return mo;this._discoveryMode=!0;var n=function(n,i){if(n.equals(t))return e._projections.set(t,i),"break";var r=n._discoverProjectionTo(t);if(r){return e._projections.set(t,function(t){var e=f(t,2),n=e[0],o=e[1];return r(i([n,o]))}),"break"}},i=!0,r=!1,o=void 0;try{for(var s,a=this._projections[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=f(s.value,2);if("break"===n(c[0],c[1]))break}}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return this._discoveryMode=!1,this._projections.get(t)||null}}]),t}(),wo=(new bo({details:"Plain crs without any projection functions"}),new bo({wkid:84,authority:"OCG",wkt:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'})),xo=new bo({wkid:4326,authority:"EPSG",wkt:'GEODCRS["WGS 84",\n  DATUM["World Geodetic System 1984",\n    ELLIPSOID["WGS 84",6378137,298.257223563,LENGTHUNIT["metre",1.0]]],\n  CS[ellipsoidal,2],\n    AXIS["latitude",north,ORDER[1]],\n    AXIS["longitude",east,ORDER[2]],\n    ANGLEUNIT["degree",0.01745329252],\n  ID["EPSG",4326]]'});xo.setProjectionTo(wo,function(t){var e=f(t,2),n=e[0];return[e[1],n]}),wo.setProjectionTo(xo,function(t){var e=f(t,2),n=e[0];return[e[1],n]});var ko=new bo({wkid:3857,authority:"EPSG",wkt:'PROJCS["WGS 84 / Pseudo-Mercator",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Mercator"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1]]'}),Co=6378137;ko.setProjectionTo(wo,function(t){var e=f(t,2),n=e[0],i=e[1],r=Math.PI/2-2*Math.atan(Math.exp(-i/Co));return[go(n/Co),go(r)]}),wo.setProjectionTo(ko,function(t){var e=f(t,2),n=e[0],i=e[1],r=yo(n),o=yo(i);return[Co*r,Co*Math.log(Math.tan(Math.PI/4+o/2))]});var So=new bo({wkid:3395,authority:"EPSG",wkt:'PROJCS["WGS 84 / World Mercator",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Mercator"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1]]'}),Eo=6378137,Mo=6356752.314245179,Oo=Math.sqrt(1-Mo*Mo/Eo/Eo),Ao=Oo/2,Fo=Math.PI/2;So.setProjectionTo(wo,function(t){for(var e=f(t,2),n=e[0],i=e[1],r=Math.exp(-i/Eo),o=Fo-2*Math.atan(r),s=0,a=1;Math.abs(a)>1e-9&&s++<15;){var c=Oo*Math.sin(o);o+=a=Fo-2*Math.atan(r*Math.pow((1-c)/(1+c),Ao))-o}var u=o;return[go(n/Eo),go(u)]}),wo.setProjectionTo(So,function(t){var e=f(t,2),n=e[0],i=e[1],r=yo(i),o=yo(n);return[Eo*o,Eo*Math.log(Math.tan(Math.PI/4+r/2)*Math.pow((1-Oo*Math.sin(r))/(1+Oo*Math.sin(r)),Oo/2))]});new(function(t){function e(t,n,i,r){var o;s(this,e),(o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{details:"Albers Equal-Area Conic Projection: "+t+","+n+","+i+","+r}))).R=6372795;var a=yo(t),c=yo(n),u=yo(i),d=yo(r),p=(Math.sin(u)+Math.sin(d))/2,v=Math.pow(Math.cos(u),2)+2*p*Math.sin(u),y=Math.sqrt(v-2*p*Math.sin(a))/p;return o.setProjectionTo(wo,function(t){var e=f(t,2),n=e[0],i=e[1],r=n/o.R,s=i/o.R,a=Math.atan(r/(y-s)),u=r/Math.sin(a),h=Math.asin((v-u*u*p*p)/2/p),l=c+a/p,d=go(h);return[go(l),d]}),wo.setProjectionTo(h(o),function(t){var e=f(t,2),n=e[0],i=e[1],r=yo(n),s=yo(i),a=p*(s-c),u=Math.sqrt(v-2*p*Math.sin(r))/p;return[u*Math.sin(a)*o.R,y-u*Math.cos(a)*o.R]}),o}return u(e,bo),e}())(0,180,60,50);var Po,To,jo,Ro=function(t){throw Lo(t)?new Error(t):t},Io=function(t){console.warn(t)},Do=function(t){return"number"==typeof t&&isFinite(t)},Lo=function(t){return"string"==typeof t},Bo=function(t,e){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},No=function t(e){if(!(e instanceof Function)&&e instanceof Object){for(var n=Array.isArray(e)?[]:{},i=Object.keys(e),r=0;r<i.length;r++)n[i[r]]=t(e[i[r]]);return n}return e},Go=-1!==(To=navigator.userAgent,jo=To.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(jo[1])?"IE "+((Po=/\brv[ :]+(\d+)/g.exec(To)||[])[1]||""):"Chrome"===jo[1]&&null!=(Po=To.match(/\bOPR\/(\d+)/))?"Opera "+Po[1]:(jo=jo[2]?[jo[1],jo[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(Po=To.match(/version\/(\d+)/i))&&jo.splice(1,1,Po[1]),jo.join(" "))).search("IE");document.documentElement;void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(t){return setTimeout(t,1e3/30),0});for(var Ho=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xo;s(this,t),this.crs=n,this.position=e}return c(t,[{key:"projectTo",value:function(e){var n=this.crs.projectionTo(e);return n?new t(n(this.position),e):Ro(new Error("Cannot project point to crs: "+e.toString()))}},{key:"clone",value:function(){return new t(this.position,this.crs)}},{key:"equals",value:function(t){return _o(t.x,this.x)&&_o(t.y,this.y)&&t.crs.equals(this.crs)}},{key:"point",get:function(){return this.clone()},set:function(t){this.position=t.projectTo(this.crs).position}},{key:"x",get:function(){return this.position[0]},set:function(t){this.position[0]=t}},{key:"y",get:function(){return this.position[1]},set:function(t){this.position[1]=t}},{key:"coordinates",get:function(){return[this.position[0],this.position[1]]},set:function(t){this.position=[t[0],t[1]]}}]),t}(),Uo=[{resolution:156543.03392800014,indexCount:1,zIndex:0}],Wo=1;Wo<18;Wo++)Uo[Wo]={resolution:Uo[Wo-1].resolution/2,indexCount:2*Uo[Wo-1].indexCount,zIndex:Wo};var zo,Yo=function(){function t(e){var n=e.origin,i=e.levels,r=e.limits,o=void 0===r?[-1/0,-1/0,1/0,1/0]:r,a=e.reversedY,c=void 0!==a&&a,u=e.tileWidth,h=void 0===u?256:u,l=e.tileHeight,f=void 0===l?256:l;s(this,t),this._levels=i.sort(function(t,e){return t.resolution-e.resolution}),this._origin=n,this.reversedY=c,this.tileWidth=h,this.tileHeight=f,this.limits=o}return c(t,[{key:"getAdjustedResolution",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.levels[this.getLevel(t,e)].resolution}},{key:"getLevel",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(this.levels&&0!==this.levels.length||Ro("Tile scheme levels are not set"),e=0;e<this.levels.length;e++)if(t<=this.levels[e].resolution+.001)return n?0===e?e:e-1:e;return e-1}},{key:"levels",get:function(){return this._levels}},{key:"maxResolution",get:function(){return this.levels[this.levels.length-1].resolution}},{key:"minResolution",get:function(){return this.levels[0].resolution}},{key:"origin",get:function(){return this._origin}}]),t}();Yo.default=new Yo({origin:[-20037508.342787,20037508.342787],levels:Uo,tileWidth:256,tileHeight:256,reversedY:!1,limits:[-1/0,-20037508.342787,1/0,20037508.342787]}),function(t){t[t.None=0]="None",t[t.MouseDown=2]="MouseDown",t[t.MouseUp=4]="MouseUp",t[t.MouseClick=8]="MouseClick",t[t.MouseMove=16]="MouseMove",t[t.MouseOver=32]="MouseOver",t[t.MouseOut=64]="MouseOut",t[t.DoubleClick=128]="DoubleClick",t[t.DragStart=256]="DragStart",t[t.Drag=512]="Drag",t[t.DragEnd=1024]="DragEnd"}(zo||(zo={}));var Vo={click:{type:"click",flag:zo.MouseClick},doubleClick:{type:"dblclick",flag:zo.DoubleClick},mouseDown:{type:"mousedown",flag:zo.MouseDown},mouseUp:{type:"mouseup",flag:zo.MouseUp},mouseOver:{type:"mouseover",flag:zo.MouseOver},mouseOut:{type:"mouseout",flag:zo.MouseOut},mouseMove:{type:"mousemove",flag:zo.MouseMove},dragStart:{type:"dragStart",flag:zo.DragStart},drag:{type:"drag",flag:zo.Drag},dragEnd:{type:"dragEnd",flag:zo.DragEnd}},Qo={};Object.keys(Vo).forEach(function(t){Qo[Vo[t].type]=Vo[t].flag});var Ko=function(){function t(e){s(this,t),this._cancelPropagation=!1,this.type=e}return c(t,[{key:"stopPropagation",value:function(){this._cancelPropagation=!0}},{key:"isCanceled",get:function(){return this._cancelPropagation}}]),t}(),Zo=function(){function t(){s(this,t),Object.defineProperty(this,"_eventHandlers",{value:{}}),Object.defineProperty(this,"_prohibitedEvents",{value:[]}),Object.defineProperty(this,"eventFlags",{value:zo.None,writable:!0})}return c(t,[{key:"forwardEvent",value:function(t){if(!this._prohibitedEvents||-1===this._prohibitedEvents.indexOf(t.type)){var e=t.type;if(this._eventHandlers&&this._eventHandlers[e])for(var n=function t(e){for(var n=[],i=0,r=e.length;i<r;i++)Array.isArray(e[i])?n[i]=t(e[i]):n[i]=e[i];return n}(this._eventHandlers[e]),i=0;i<n.length;i++){if(n[i].oneTime){var r=this._eventHandlers[e].indexOf(n[i]);this._eventHandlers[e].splice(r,1)}if(n[i].handler.call(this,t),t.isCanceled)break}}}},{key:"fire",value:function(t,e){return"string"==typeof t&&(t=new Ko(t),e&&Object.assign(t,e),t.sourceObject=this),-1!==this._prohibitedEvents.indexOf(t.type)?null:(this.forwardEvent(t),t)}},{key:"addListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Jo(t),r=Xo(t);0===i.length&&Ro("No event types are specified."),e||Ro("No handler is given.");for(var o=0;o<i.length;o++)this._eventHandlers[i[o]]||(this._eventHandlers[i[o]]=[]),this._eventHandlers[i[o]].push({handler:e,namespaces:r,oneTime:n}),Qo[i[o]]&&(this.eventFlags=this.eventFlags|Qo[i[o]])}},{key:"once",value:function(t,e){this.addListener(t,e,!0)}},{key:"removeListener",value:function(t,e){var n=Jo(t),i=Xo(t);0===n.length&&(n=Object.keys(this._eventHandlers));for(var r=0;r<n.length;r++)if(this._eventHandlers[n[r]]){for(var o=this._eventHandlers[n[r]].length-1;o>=0;o--)null!==i&&0!==i.length&&!Bo(this._eventHandlers[n[r]][o].namespaces,i)||e&&this._eventHandlers[n[r]][o].handler!==e||this._eventHandlers[n[r]].splice(o,1);0===this._eventHandlers[n[r]].length&&Qo[n[r]]&&(this.eventFlags=this.eventFlags&~Qo[n[r]])}}},{key:"prohibitEvent",value:function(t){this._prohibitedEvents.push(t)}},{key:"allowEvent",value:function(t){var e=this._prohibitedEvents.indexOf(t);-1!==e&&this._prohibitedEvents.splice(e,1)}},{key:"hasListener",value:function(t,e){if(this._eventHandlers[t])for(var n=0;n<this._eventHandlers[t].length;n++)if(this._eventHandlers[t][n].handler===e)return!0;return!1}},{key:"hasListeners",value:function(t){var e=Jo(t),n=Xo(t);0===e.length&&(e=Object.keys(this._eventHandlers));for(var i=0;i<e.length;i++)if(this._eventHandlers[e[i]]&&this._eventHandlers[e[i]].length>0){if(!(n.length>0))return!0;for(var r=0;r<this._eventHandlers[e[i]].length;r++)if(Bo(this._eventHandlers[e[i]][r].namespaces,n))return!0}return!1}},{key:"removeAllListeners",value:function(){var t=this;Object.keys(this._eventHandlers).forEach(function(e){return delete t._eventHandlers[e]})}},{key:"on",value:function(t,e){this.addListener.apply(this,arguments)}},{key:"off",value:function(t,e){this.removeListener.apply(this,arguments)}}]),t}();function Jo(t){return t.replace(/\.[A-Za-z0-9_-]+/g,"").match(/[A-Za-z0-9_-]+/g)||[]}function Xo(t){return t.match(/\.[A-Za-z0-9_-]+/g)||[]}var qo=function(t){function e(t){var n;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))).property=t,n}return u(e,Ko),e}();qo.type="propertyChange";var $o=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))}return u(e,Ko),e}();$o.type="visibilityChange";var ts,es=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.delayedUpdate,r=void 0!==i&&i,o=n.resolutionLimits,a=void 0===o?[-1,-1]:o,c=n.opacity,u=void 0===c?1:c,f=n.isDisplayed,d=void 0===f||f,p=arguments.length>1?arguments[1]:void 0;return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).delayedUpdate=r,t._resolutionLimits=a,t._opacity=u,t._isDisplayed=d,p&&Object.assign(h(t),p),t}return u(e,Zo),c(e,[{key:"checkVisibility",value:function(t){return this._isDisplayed&&(this.resolutionLimits[0]<0||t>=this.resolutionLimits[0])&&(this.resolutionLimits[1]<0||t<=this.resolutionLimits[1])}},{key:"show",value:function(){this.isDisplayed=!0}},{key:"hide",value:function(){this.isDisplayed=!1}},{key:"getOpacity",value:function(){return this._opacity}},{key:"setOpacity",value:function(t){t=t<0?0:t>1?1:t,this._opacity=t,this.fire(new qo("opacity"))}},{key:"redraw",value:function(){this.fire(new qo("content"))}},{key:"isDisplayed",get:function(){return this._isDisplayed},set:function(t){this._isDisplayed=t,this.fire(new $o)}},{key:"opacity",get:function(){return this.getOpacity()},set:function(t){this.setOpacity(t)}},{key:"resolutionLimits",get:function(){return this._resolutionLimits},set:function(t){this._resolutionLimits=t,this.fire(new qo("resolutionLimits"))}}]),e}();!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.Reorder=2]="Reorder",t[t.VisibilityChange=3]="VisibilityChange"}(ts||(ts={}));var ns=function(t){function e(t,n){var i;return s(this,e),(i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))).changeType=t,i.affectedLayers=n,i}return u(e,Ko),e}();ns.type="contentsChange";var is=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._fireContentChange=function(e,n){return t.fire(new ns(e,n))},t._forwardEvent=function(e){return t.fire(e)},t._isDisplayed=!0,t._layers=n,t}return u(e,Zo),c(e,[{key:"addLayer",value:function(t){t===this&&Ro(new Error("Cannot add self to the group")),this.contains(t)&&Ro(new Error("Cannot add layer to the group: the layer is already in the group")),this._layers.push(t),this._setChildListeners(t),t instanceof e&&this._setForwardListeners(t),this.fire(new ns(ts.Add,[t]))}},{key:"removeLayer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._layers.indexOf(t),r=!1;if(-1!==i)this._layers.splice(i,1),this._removeChildListeners(t),t instanceof e&&this._removeForwardListeners(t),this.fire(new ns(ts.Remove,[t])),r=!0;else if(n)for(var o=0;o<this._layers.length;o++)if(this._layers[o]instanceof e){var s=this._layers[o];s.contains(t)&&(s.removeLayer(t,!0),r=!0)}r||Ro(new Error("The layer is not in the group"))}},{key:"_setChildListeners",value:function(t){var e=this;t.on($o.type,function(){return e._fireContentChange(ts.VisibilityChange,[t])})}},{key:"_removeChildListeners",value:function(t){var e=this;t.off($o.type,function(){return e._fireContentChange(ts.VisibilityChange,[t])})}},{key:"_setForwardListeners",value:function(t){t.on(ns.type,this._forwardEvent)}},{key:"_removeForwardListeners",value:function(t){t.off(ns.type,this._forwardEvent)}},{key:"contains",value:function(t){for(var n=0;n<this._layers.length;n++){if(t===this._layers[n])return!0;if(this._layers[n]instanceof e)if(this._layers[n].contains(t))return!0}return!1}},{key:"indexOf",value:function(t){return this._layers.indexOf(t)}},{key:"insertLayer",value:function(t,e){var n=this._layers.indexOf(t),i=!1;-1===n&&(this.prohibitEvent("layerAdd"),this.addLayer(t),this.allowEvent("layerAdd"),n=this._layers.length-1,i=!0);var r=this._layers.length;(e=e>r?r:e<0&&e<-r?-r:e)<0&&(e=r+e),this._layers.splice(n,1),this._layers.splice(e,0,t);var o=i?ts.Add:ts.Reorder;this.fire(new ns(o,[t]))}},{key:"moveLayerToTop",value:function(t){this.insertLayer(t,-1)}},{key:"getLayers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return this._layers.forEach(function(r){n&&!r.isDisplayed||(t&&r instanceof e?i=i.concat(r.getLayers(t,n)):i.push(r))}),i}},{key:"show",value:function(){this.isDisplayed=!0}},{key:"hide",value:function(){this.isDisplayed=!1}},{key:"layers",get:function(){return this._layers},set:function(t){var e=this._layers;if(e.length>0&&(this._layers.length=0,this.fire(new ns(ts.Remove,e))),t.length>0){this.prohibitEvent(ns.type);for(var n=0;n<t.length;n++)this.addLayer(t[n]);this.allowEvent(ns.type),this.fire(new ns(ts.Add,t))}}},{key:"isDisplayed",get:function(){return this._isDisplayed},set:function(t){this._isDisplayed!==t&&(this._isDisplayed=t,this.fire(new $o))}}]),e}(),rs=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))}return u(e,Ko),e}();rs.type="bboxChange";var os=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))}return u(e,Ko),e}();os.type="bboxChangeEnd";var ss=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))}return u(e,Ko),e}();ss.type="animationStart";var as=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))}return u(e,Ko),e}();as.type="animationEnd";var cs=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.position,r=void 0===i?new Ho([55.755831,37.617673]).projectTo(ko).position:i,o=n.resolution,a=void 0===o?305.74811314062526:o,c=n.crs,u=void 0===c?ko:c,h=n.centerPoint,f=n.tileScheme,d=void 0===f?Yo.default:f,p=n.animationTime,v=void 0===p?300:p,y=n.changeEndDelay,g=void 0===y?300:y,_=n.minResolution,m=void 0===_?-1:_,b=n.maxResolution,w=void 0===b?-1:b,x=n.layers,k=void 0===x?[]:x;return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,k)))._animationStopped=!0,t._animationTarget=null,t._crs=u,t._position=h?h.projectTo(u).position:r,t._resolution=a,t.tileScheme=d,t.animationTime=v,t.changeEndDelay=g,t._minResolution=m,t._maxResolution=w,t._listenForBboxChange(),t}return u(e,is),c(e,[{key:"_listenForBboxChange",value:function(){var t,e,n;this.on(rs.type,(t=this._fireBboxChangeEnd.bind(this),e=this.changeEndDelay,n=null,function(){n&&clearTimeout(n),n=window.setTimeout(function(){n=null,t.apply(this,arguments)},e)}))}},{key:"_fireBboxChangeEnd",value:function(){this.fire(new os)}},{key:"move",value:function(t,e){this._position[0]+=t,this._position[1]+=e,this.fire(new rs)}},{key:"changeScale",value:function(t,e,n){this.setResolution(this.resolution*t,e,n)}},{key:"animateChangeScale",value:function(t,e){this.animateSetResolution(this.resolution*t,e)}},{key:"zoom",value:function(t,e){var n,i=this.tileScheme,r=this._animationTarget?this._animationTarget[1]:this.resolution;if(i){var o=i.getLevel(r)+(t>0?-1:1);n=i.levels[o]?i.levels[o].resolution:r}else n=r*Math.pow(2,-t);n=Math.min(Math.max(n,this.minResolution||0),this.maxResolution||Number.MAX_VALUE),this.animateSetResolution(n,e)}},{key:"adjustResolution",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.resolution,n=this.getAdjustedResolution(e,t),i=n/e;i>1.1||i<.9?this.animateSetResolution(n):(i>1.0001||i<.9999)&&this.setResolution(n)}},{key:"getAdjustedResolution",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.tileScheme?this.tileScheme.getAdjustedResolution(t,e):t}},{key:"animateSetResolution",value:function(t,e){var n=this.getAdjustedResolution(t),i=this._getScaledPosition(n,e&&this._getBase(e));this.animateTo(i,n)}},{key:"animateTo",value:function(t,e){Array.isArray(t)||(t=t.projectTo(this.crs).position),this.stopAnimation(),this.fire(new ss);var n=this.centerPoint,i=this.resolution,r=t[0]-n.x,o=t[1]-n.y,s=e-i,a=Date.now();this._animationStopped=!1,this._animationTarget=[t,e];var c=this;this._animationTimer=setInterval(function(){var u=Date.now()-a;if(u>=c.animationTime||c._animationStopped)c.setPosition(t,e),c.stopAnimation(),c.fire(new as);else{var h=c._easeFunction(u,n.x,r,c.animationTime),l=c._easeFunction(u,n.y,o,c.animationTime),f=c._easeFunction(u,i,s,c.animationTime);c.setPosition(new Ho([h,l],c.crs),f)}},1e3/60)}},{key:"_getBase",value:function(t){return t.projectTo?t.projectTo(this.crs).position:t}},{key:"_getScaledPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.position,i=e||n,r=t/this.resolution;return[(n[0]-i[0])*r+i[0],(n[1]-i[1])*r+i[1]]}},{key:"stopAnimation",value:function(){this._animationStopped=!0,this._animationTarget=null,clearInterval(this._animationTimer)}},{key:"easing",value:function(t){return t<.5?2*t*t:(4-2*t)*t-1}},{key:"_easeFunction",value:function(t,e,n,i){return e+n*this.easing(t/i)}},{key:"setPosition",value:function(t,e){Array.isArray(t)||(t=t.projectTo(this.crs).position),this.prohibitEvent(rs.type),this.position=t,e&&(this.resolution=e),this.allowEvent(rs.type),this.fire(new rs)}},{key:"setResolution",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setPosition(this._getScaledPosition(t,e&&this._getBase(e)),n?t:this.getAdjustedResolution(t))}},{key:"position",get:function(){return this._position},set:function(t){this._position=t,this.fire(new rs)}},{key:"centerPoint",get:function(){return new Ho(this.position,this.crs)},set:function(t){this.position=t.projectTo(this.crs).position}},{key:"crs",get:function(){return this._crs},set:function(t){var e=this._crs.projectionTo(t);this._crs=t,this.position=e?e(this.position):[0,0]}},{key:"resolution",get:function(){return this._resolution},set:function(t){this._resolution=t,this.fire(new rs)}},{key:"minResolution",get:function(){return this._minResolution>0?this._minResolution:this.tileScheme&&this.tileScheme.minResolution},set:function(t){t>0&&(t>this.maxResolution&&Ro("maxResolution cannot be less then minResolution"));this._minResolution=t,this.resolution<this.minResolution&&(this.resolution=t)}},{key:"maxResolution",get:function(){return this._maxResolution>0?this._maxResolution:this.tileScheme&&this.tileScheme.maxResolution},set:function(t){t>0&&(t<this.minResolution&&Ro("maxResolution cannot be less then minResolution"));this._maxResolution=t,this.resolution>this.maxResolution&&(this.resolution=t)}}]),e}(),us=0,hs=function(t,e,n){return"wheel"===e&&(e=function(){if(document.addEventListener)return"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"MozMousePixelScroll"}()),n.guid||(n.guid=++us),t.events||(t.events={},t.handle=function(e){return function(t){t=function(t){if((t=t||window.event).isFixed)return t;t.isFixed=!0,t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},t.target||(t.target=t.srcElement);t.currentTarget||(t.currentTarget=t.srcElement);void 0===t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement);if(null==t.pageX&&null!=t.clientX){var e=document.documentElement,n=document.body;t.pageX=t.clientX+(e&&e.scrollLeft||n&&n.scrollLeft||0)-(e.clientLeft||0),t.pageY=t.clientY+(e&&e.scrollTop||n&&n.scrollTop||0)-(e.clientTop||0)}!t.which&&t.button&&(t.which=1&t.button?1:2&t.button?3:4&t.button?2:0);return t}(t);for(var e=this.events[t.type],n=Object.keys(e),i=0;i<n.length;i++){var r=e[n[i]].call(this,t);if(!1===r)return t.preventDefault(),void t.stopPropagation()}}.call(t,e)}),t.events[e]||(t.events[e]={},t.addEventListener?t.addEventListener(e,t.handle,!1):t.attachEvent&&t.attachEvent("on"+e,t.handle)),t.events[e][n.guid]=n,n},ls=function(t,e,n){var i=t.events&&t.events[e];if(i&&(n?delete i[n.guid]:Object.keys(i).forEach(function(t){delete i[t]}),!(Object.keys(i).length>0||(t.removeEventListener?t.removeEventListener(e,t.handle,!1):t.detachEvent&&t.detachEvent("on"+e,t.handle),delete t.events[e],Object.keys(t.events).length>0))))try{delete t.handle,delete t.events}catch(e){t.removeAttribute("handle"),t.removeAttribute("events")}};var fs=function(t,e){var n=t===document||t===window?{x:0,y:0}:ds(t);return{x:e.pageX-n.x,y:e.pageY-n.y}},ds=function(t){var e=t.getBoundingClientRect(),n=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,i=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e.left+n,y:e.top+i}},ps=function(t){function e(t,n){var i,r=t.type,o=t.flag,a=n.point,c=n.browserEvent,u=n.contourIndex,h=void 0===u?null:u,f=n.pointIndex,d=void 0===f?null:f;return s(this,e),(i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))).point=a,i.browserEvent=c,i.contourIndex=h,i.pointIndex=d,i.eventFlag=o,i}return u(e,Ko),e}(),vs=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.click,t))}return u(e,ps),e}();vs.type=Vo.click.type,vs.eventFlag=Vo.click.flag;var ys=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.doubleClick,t))}return u(e,ps),e}();ys.type=Vo.doubleClick.type,ys.eventFlag=Vo.doubleClick.flag;var gs=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.mouseMove,t))}return u(e,ps),e}();gs.type=Vo.mouseMove.type,gs.eventFlag=Vo.mouseMove.flag;var _s=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.mouseOut,t))}return u(e,ps),e}();_s.type=Vo.mouseOut.type,_s.eventFlag=Vo.mouseOut.flag;var ms=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.mouseOver,t))}return u(e,ps),e}();ms.type=Vo.mouseOver.type,ms.eventFlag=Vo.mouseOver.flag;var bs=function(t){function e(t,n){var i;return s(this,e),(i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.dragStart,n))).draggingObject=t,i}return u(e,ps),e}();bs.type=Vo.dragStart.type,bs.eventFlag=Vo.dragStart.flag;var ws=function(t){function e(t){var n,i=t.point,r=t.browserEvent,o=t.offset,a=t.pxOffset;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.drag,{point:i,browserEvent:r}))).offset=o,n.pxOffset=a,n}return u(e,ps),e}();ws.type=Vo.drag.type,ws.eventFlag=Vo.drag.flag;var xs=function(t){function e(t){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vo.dragEnd,t))}return u(e,ps),e}();xs.type=Vo.dragEnd.type,xs.eventFlag=Vo.dragEnd.flag;var ks,Cs=function(){function t(e,n){s(this,t),this._hoverRender=null,this._master=n,this._setListeners(e),this._baseNode=e,this._onDocumentMousemove=this._onDocumentMousemove.bind(this),this._onDocumentMouseup=this._onDocumentMouseup.bind(this),this._wheelTimer=0,this._touchHandler={dragPrevPosition:[]}}return c(t,[{key:"_dispatchEvent",value:function(t){var e,n,i=this._master.map,r=this._master.layerRenderers,o=[t.point.x/i.resolution,-t.point.y/i.resolution];if(t instanceof _s)return this._hoverRender&&this._hoverRender.triggerEvent(t),this._hoverRender=null,void(t.isCanceled||i.fire(t));for(var s=null,a=r.length-1;a>=0;a--){var c=f(r[a].getEventCatcher(t.eventFlag,o),2),u=c[0],h=c[1];if(Array.isArray(h)&&(t.contourIndex=h[0],t.pointIndex=h[1]),s=u)break}!e&&t instanceof gs&&this._hoverRender!==s&&(this._hoverRender&&(e=new _s(t),this._hoverRender.triggerEvent(e)),s&&(n=new ms(t),s.triggerEvent(n)),this._hoverRender=s),s&&s.triggerEvent(t),t.isCanceled||i.fire(t)}},{key:"_listenFor",value:function(t,e,n){hs(t,e,function(e){for(var i=e&&e.target,r=!1;i&&i!==t;){if(i.doNotBubbleToMap){r=!0;break}i=i.parentNode}r||n(e)})}},{key:"_setListeners",value:function(t){this._listenFor(t,"mousedown",this._onmousedown.bind(this)),this._listenFor(t,"mousedown",this._onmousedown.bind(this)),this._listenFor(t,"wheel",this._onwheel.bind(this)),this._listenFor(t,"click",this._onclick.bind(this)),this._listenFor(t,"dblclick",this._ondblclick.bind(this)),this._listenFor(t,"mousemove",this._onmousemove.bind(this)),this._listenFor(t,"mouseleave",this._onmouseleave.bind(this)),this._listenFor(t,"touchstart",this._ontouchstart.bind(this)),this._listenFor(t,"touchmove",this._ontouchmove.bind(this)),this._listenFor(t,"touchend",this._ontouchend.bind(this))}},{key:"_onmousedown",value:function(t){this._clickCatcher=!0,1===t.which&&(this._dragPosition=fs(t.currentTarget,t),hs(document,"mousemove",this._onDocumentMousemove),hs(document,"mouseup",this._onDocumentMouseup),document.ondragstart=function(){return!1},document.body.onselectstart=function(){return!1}),t.preventDefault(),t.stopPropagation()}},{key:"_onDocumentMousemove",value:function(t){var e=this._master.map,n=fs(this._master.wrapper,t),i=this._dragPosition.x-n.x,r=this._dragPosition.y-n.y,o=e.resolution,s=this._master.getPointFromPxPosition(n.x,n.y);if(Math.abs(i)>2||Math.abs(r)>2||!this._clickCatcher){if(this._lastDrag={x:i*o,y:-r*o},this._clickCatcher){this._clickCatcher=null;var a=this._master.getPointFromPxPosition(this._dragPosition.x,this._dragPosition.y),c=new bs(e,{point:a,browserEvent:t});this._dispatchEvent(c),this._draggingObject=c.draggingObject}this._dragPosition=n;var u=new ws({point:s,browserEvent:t,offset:[this._lastDrag.x,this._lastDrag.y],pxOffset:[i,r]});this._draggingObject.fire(u)}}},{key:"_onDocumentMouseup",value:function(t){this._clearDocumentListeners(),this._draggingObject&&this._draggingObject.fire(new xs(this._getMouseEventDescription(t))),this._draggingObject=null,this._lastDrag=null}},{key:"remove",value:function(){this._clearDocumentListeners()}},{key:"_clearDocumentListeners",value:function(){ls(document,"mousemove",this._onDocumentMousemove),ls(document,"mouseup",this._onDocumentMouseup),document.ondragstart=null,document.body.onselectstart=null}},{key:"_onwheel",value:function(t){var e,n,i=Date.now();if(i-this._wheelTimer>50){this._wheelTimer=i;var r=this._master.map,o=((n=((e=t).detail?-1*e.detail:e.wheelDelta/40)||-1*e.deltaY)>0?n=1:n<0&&(n=-1),n),s=fs(t.currentTarget,t);r.zoom(o,this._master.getPointFromPxPosition(s.x,s.y))}t.preventDefault()}},{key:"_getMouseEventDescription",value:function(t){var e=fs(t.currentTarget,t);return{point:this._master.getPointFromPxPosition(e.x,e.y),browserEvent:t}}},{key:"_onclick",value:function(t){this._clickCatcher&&this._dispatchEvent(new vs(this._getMouseEventDescription(t)))}},{key:"_ondblclick",value:function(t){this._clickCatcher=null,this._dispatchEvent(new ys(this._getMouseEventDescription(t)))}},{key:"_onmousemove",value:function(t){this._dispatchEvent(new gs(this._getMouseEventDescription(t)))}},{key:"_onmouseleave",value:function(t){t.target===this._baseNode&&this._dispatchEvent(new _s(this._getMouseEventDescription(t)))}},{key:"_ontouchstart",value:function(t){var e=this;this._touches||(this._touches=[]);for(var n=function(n){var i=t.changedTouches[n];e._touches.some(function(t){return t.id===i.identifier})||e._touches.push({id:i.identifier,position:[i.pageX,i.pageY]})},i=0;i<t.changedTouches.length;i++)n(i);this._touchHandler.lastDrag={x:0,y:0},t.touches.length>1&&t.preventDefault()}},{key:"_ontouchmove",value:function(t){var e=this;this._clearTouches(t);var n=Array.prototype.slice.apply(t.touches),i=this._master.map;if(1===n.length&&this._touchHandler.lastDrag){var r=t.targetTouches[0],o=f(this._touches[0].position,2),s=o[0],a=o[1],c=s-r.pageX,u=a-r.pageY,h=i.resolution,l=fs(t.currentTarget,r),d=this._master.getPointFromPxPosition(l.x,l.y),p=new MouseEvent("mousemove",t);if(0===this._touchHandler.lastDrag.x&&0===this._touchHandler.lastDrag.y){var v=new bs(i,{point:d,browserEvent:p});this._dispatchEvent(v),this._draggingObject=v.draggingObject}this._touchHandler.lastDrag={x:c*h,y:0-u*h};var y=new ws({point:d,browserEvent:p,offset:[this._touchHandler.lastDrag.x,this._touchHandler.lastDrag.y],pxOffset:[c,u]});this._draggingObject.fire(y),this._touches[0].position=[r.pageX,r.pageY]}else if(n.length>1){this._master.forbidUpdate(),this._touchHandler.lastDrag=null,this._touchHandler.scaleChanged=!0;var g=n.find(function(t){return t.identifier===e._touches[0].id}),_=n.find(function(t){return t.identifier===e._touches[1].id}),m=f(this._touches[0].position,2),b=m[0],w=m[1],x=[g.pageX,g.pageY],k=x[0],C=x[1],S=f(this._touches[1].position,2),E=S[0],M=S[1],O=[_.pageX,_.pageY],A=O[0],F=O[1],P=[(b+E)/2,(w+M)/2],T=[(k+A)/2,(C+F)/2],j=[(P[0]+T[0])/2,(P[1]+T[1])/2],R=Math.sqrt(Math.pow(b-E,2)+Math.pow(w-M,2)),I=Math.sqrt(Math.pow(k-A,2)+Math.pow(C-F,2)),D=this._master.getPointFromPxPosition(j[0],j[1]),L=[P[0]-T[0],T[1]-P[1]],B=R/I;R!==I&&0!==I&&i.changeScale(B,D,!0),i.move(L[0]*i.resolution,L[1]*i.resolution),this._touches[0].position=[k,C],this._touches[1].position=[A,F],this._touchHandler.lastZoomDirection=B<1}t.preventDefault()}},{key:"_ontouchend",value:function(t){var e=this;this._clearTouches(t);for(var n=function(n){var i=e._touches.findIndex(function(e){return e.id===t.changedTouches[n].identifier});i>=0&&e._touches.splice(i,1)},i=0;i<t.changedTouches.length;i++)n(i);this._touchHandler.lastDrag=null,this._touchHandler.scaleChanged?(this._master.allowUpdate(),this._master.map.adjustResolution(this._touchHandler.lastZoomDirection),this._touchHandler.scaleChanged=!1):this._draggingObject&&(this._draggingObject.fire(new xs({point:null,browserEvent:new MouseEvent("mouseup",t)})),this._draggingObject=null)}},{key:"_clearTouches",value:function(t){for(var e=this,n=Array.prototype.slice.apply(t.touches),i=function(t){n.some(function(n){return n.identifier===e._touches[t].id})||e._touches.splice(t,1)},r=this._touches.length-1;r>=0;r--)i(r)}}]),t}(),Ss=function(){function t(){s(this,t),this._listensFor=zo.None,this._eventHandler=null}return c(t,[{key:"triggerEvent",value:function(t){this._eventHandler&&this._eventHandler(t)}},{key:"listenFor",value:function(t,e){this._eventHandler=e,this._listensFor=t}},{key:"listensFor",get:function(){return this._listensFor}}]),t}(),Es=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,Ss),e}(),Ms=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,Es),e}(),Os=function(t){function e(t){var n,i=t.node,r=t.update,o=t.onRender;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).node=i,n.update=r,n.onRender=o,n}return u(e,Ss),c(e,[{key:"contains",value:function(t){return!1}}]),e}(),As=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).center=[0,0],n.radius=5,n.strokeColor="black",n.strokeWidth=1,n.fillColor="transparent",n.ignoreEvents=!1,n.startAngle=0,n.endAngle=2*Math.PI,n.isSector=!1,n.clockwise=!0,Object.assign(h(n),i),n.center=t,n}return u(e,Ms),c(e,[{key:"contains",value:function(t){var e=t[0]-this.center[0],n=t[1]-this.center[1];return e*e+n*n<(this.radius+2)*(this.radius+2)}},{key:"isVector",get:function(){return!0}}]),e}(),Fs=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.color,o=void 0===r?"black":r,a=i.ignoreEvents,c=void 0!==a&&a;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).color="black",n.ignoreEvents=!1,n._coord=t,n.color=o,n.ignoreEvents=c,n}return u(e,Ms),c(e,[{key:"contains",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t[0]-this._coord[0],i=t[1]-this._coord[1];return n*n+i*i<e*e}},{key:"isVector",get:function(){return!0}},{key:"coordinates",get:function(){return this._coord}}]),e}(),Ps=function(t,e){var n=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=e[0][0]-t[0],o=e[0][1]-t[1],s=0-(r*n+o*i)/(n*n+i*i);return s=s<0?0:s>1?1:s,Math.sqrt(Math.pow(n*s+r,2)+Math.pow(i*s+o,2))},Ts=function(t,e){if(t[0][0]===t[1][0])return t[0][0]>e[0][0];var n=(t[0][1]-t[1][1])/(t[0][0]-t[1][0]),i=t[0][1]-n*t[0][0];return(e[0][1]-i)/n>e[0][0]};!function(t){t[t.None=0]="None",t[t.Color=1]="Color",t[t.Image=2]="Image"}(ks||(ks={}));var js=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).enclosed=!1,n.fillStyle=ks.Color,n.strokeColor="black",n.fillColor="transparent",n.strokeWidth=1,n.ignoreEvents=!1,n.lineContainsTolerance=4,n.lineDash=[],n.fillImage=null,Object.assign(h(n),i),n.coordinates=t,n}return u(e,Ms),c(e,[{key:"contains",value:function(t){return function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,r=Array.isArray(t[0][0])?t:[t],o=0,s=r.length;o<s;o++)for(var a=r[o].concat([r[o][0]]),c=a[0][0]-e[0],u=a[0][1]>e[1],h=1;h<a.length;h++){if(Ps(e,[a[h-1],a[h]])<=n)return[o,h-1];var l=a[h][0]-e[0],f=a[h][1]>e[1];!f!=!u&&(l>0||c>0)&&(e[1]===a[h][1]&&e[1]===a[h-1][1]||Ts([[a[h][0],a[h][1]],[a[h-1][0],a[h-1][1]]],[e,[Math.max(a[h][0],a[h-1][0]),e[1]]])&&i++),c=l,u=f}return i%2==1}(this.coordinates,t,this.strokeWidth/2+this.lineContainsTolerance)}},{key:"isVector",get:function(){return!0}}]),e}(),Rs=function(t){function e(t){var n,i=t.src,r=t.width,o=void 0===r?0:r,a=t.height,c=void 0===a?0:a,u=t.onLoad,h=void 0===u?null:u,f=t.opacity,d=void 0===f?1:f,p=t.offset,v=void 0===p?[0,0]:p;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._isReady=!1,n.offset=v,n.onLoad=h,n._opacity=d,n._width=o,n._height=c,n._src=i,n._createNode(),n}return u(e,Es),c(e,[{key:"_createNode",value:function(){var t=this;this._node=new Image,this._node.onload=function(){t._isReady=!0,t.onLoad&&t.onLoad()},this._node.onerror=function(e){t._error=e,t._node.onload(e)},this._width>0&&(this._node.width=this._width),this._height>0&&(this._node.height=this._height),this._node.src=this._src}},{key:"error",get:function(){return this._error}},{key:"node",get:function(){return this._node?this._node:(this._createNode(),this._node)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"isReady",get:function(){return this._node&&this._node.complete}},{key:"opacity",get:function(){return parseFloat(this.node.style.opacity)},set:function(t){this._opacity=t,this.node&&(this.node.style.opacity=t.toString())}}]),e}(),Is=function(t){function e(t){var n,i=t.src,r=t.position,o=t.width,a=t.height,c=t.onLoad,u=t.offset,h=t.angle,f=void 0===h?0:h;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{src:i,width:o,height:a,onLoad:c,offset:u})))._cachedSin=null,n._cachedCos=null,n.position=r,n.angle=f,n}return u(e,Rs),c(e,[{key:"contains",value:function(t){if(0===this.angle)return this._boxContains(t[0],t[1]);var e=this._sin,n=this._cos,i=t[0]-this.position[0],r=t[1]-this.position[1],o=this.position[0]+i*n+r*e,s=this.position[1]+r*n-i*e;return this._boxContains(o,s)}},{key:"_boxContains",value:function(t,e){var n=this.position[0]+this.offset[0],i=this.position[1]+this.offset[1];return t>n&&t<n+this.width&&e>i&&e<i+this.height}},{key:"angle",get:function(){return this._angle},set:function(t){this._angle=t,this._cachedCos=null,this._cachedSin=null}},{key:"_sin",get:function(){return null===this._cachedSin&&(this._cachedSin=Math.sin(this.angle)),this._cachedSin}},{key:"_cos",get:function(){return null===this._cachedCos&&(this._cachedCos=Math.cos(this.angle)),this._cachedCos}}]),e}(),Ds=function(){function t(){s(this,t),this._setNode()}return c(t,[{key:"_setNode",value:function(){this._canvasNode=document.createElement("canvas"),this._canvasNode.style.pointerEvents="none",this._ctx=this._canvasNode.getContext("2d")}},{key:"reset",value:function(t,e,n,i){this._ctx.clearRect(0,0,this._canvasNode.width,this._canvasNode.height),this._canvasNode.width=n,this._canvasNode.height=i,this._isEmpty=!0,this._ctx.translate(Math.round(-t.xMin/e),Math.round(t.yMax/e)),this.bbox=t}},{key:"draw",value:function(t){t instanceof As?this._drawArc(t):t instanceof Fs?this._drawPoint(t):t instanceof js?this._drawPoly(t):t instanceof Is?this._drawImage(t):Ro("Unknown vector geometry type."),this._isEmpty=!1}},{key:"setIndex",value:function(t){this._canvasNode.style.zIndex=t}},{key:"_drawArc",value:function(t){var e=t.center;this._ctx.beginPath(),this._ctx.lineWidth=t.strokeWidth,this._ctx.strokeStyle=t.strokeColor,this._ctx.fillStyle=t.fillColor,t.isSector&&this._ctx.moveTo(e[0],e[1]),this._ctx.arc(e[0],e[1],t.radius,t.startAngle,t.endAngle,!t.clockwise),t.isSector&&this._ctx.lineTo(e[0],e[1]),this._ctx.fill(),this._ctx.stroke()}},{key:"_drawPoint",value:function(t){this._ctx.strokeStyle=this._ctx.fillStyle=t.color,this._ctx.fillRect(t.coordinates[0],t.coordinates[1],1,1)}},{key:"_drawImage",value:function(t){var e=f(t.position,2),n=e[0],i=e[1];n=Math.round(n),i=Math.round(i),this._ctx.translate(n,i),this._ctx.rotate(t.angle),this._ctx.drawImage(t.node,t.offset[0],t.offset[1],t.width,t.height),this._ctx.rotate(-t.angle),this._ctx.translate(-n,-i)}},{key:"_drawPoly",value:function(t){var e=t.coordinates;this._ctx.beginPath(),this._ctx.lineCap="round",this._ctx.lineJoin="round",this._ctx.lineWidth=t.strokeWidth,this._ctx.strokeStyle=t.strokeColor,this._ctx.setLineDash(t.lineDash||[]);for(var n=0,i=e.length;n<i;n++){this._ctx.moveTo(e[n][0][0],e[n][0][1]);for(var r=1,o=e[n].length;r<o;r++)this._ctx.lineTo(e[n][r][0],e[n][r][1]);t.enclosed&&this._ctx.closePath()}if(t.fillStyle===ks.Color)this._ctx.fillStyle=t.fillColor,this._ctx.fill();else if(t.fillStyle===ks.Image){this._ctx.fillStyle=this._ctx.createPattern(t.fillImage,"repeat");var s=e[0][0][0]%t.fillImage.width,a=e[0][0][1]%t.fillImage.height;this._ctx.translate(s,a),this._ctx.fill(),this._ctx.translate(-s,-a)}this._ctx.stroke()}},{key:"width",get:function(){return this._canvasNode.width}},{key:"height",get:function(){return this._canvasNode.height}},{key:"isEmpty",get:function(){return this._isEmpty}},{key:"node",get:function(){return this._canvasNode}}]),t}(),Ls=function(t){function e(t){var n,i=t.src,r=t.bbox,o=t.width,a=t.height,c=t.opacity,u=t.onLoad,h=t.onDisplayed,f=void 0===h?void 0:h,d=t.onRemoved,p=void 0===d?void 0:d;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{src:i,width:o,height:a,opacity:c,onLoad:u}))).isComplete=!0,n.bbox=r,n.onDisplayed=f,n.onRemoved=p,n}return u(e,Rs),c(e,[{key:"contains",value:function(t){var e=this.bbox.width/this.width;return this.bbox.contains(new Ho([t[0]*e,-t[1]*e],this.bbox.crs))}}]),e}(),Bs=function(){function t(e,n,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];s(this,t),this.delayedUpdateTime=500,this.listensFor=[zo.MouseClick,zo.DoubleClick,zo.MouseDown,zo.MouseMove,zo.MouseOut,zo.MouseOver,zo.MouseUp,zo.DragStart],this._renders=[],this._master=e,this._layer=n,this._useCanvas=r,this._canvas=new Ds,this._resetEventCatcherMaps(),this._setListeners(),this.setIndex(i),this._forceUpdate()}return c(t,[{key:"_setListeners",value:function(){var t=this;this._layer.on("propertyChange",function(){t._forceUpdate()})}},{key:"_resetEventCatcherMaps",value:function(){var t=this;this._eventCatchers={},this.listensFor.forEach(function(e){t._eventCatchers[e]=new Map})}},{key:"_forceUpdate",value:function(){this.updateNeeded=!0}},{key:"setIndex",value:function(t){if(t!==this._index){var e=2*t+1,n=!0,i=!1,r=void 0;try{for(var o,s=this._renders[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;(a instanceof Rs||a instanceof Os)&&(a.node.style.zIndex=e.toString())}}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}this._canvas.setIndex(2*t),this._index=t,this._zIndex=e}}},{key:"clear",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this._renders[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this._removeRender(o)}}catch(t){e=!0,n=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}this._renders=[],this._resetEventCatcherMaps(),this._canvasContainer&&this._canvasContainer.removeNode(this._canvas.node),this._updateTimer&&clearTimeout(this._updateTimer)}},{key:"update",value:function(){var t=this;this._layer.delayedUpdate?(this._updateTimer&&clearTimeout(this._updateTimer),this.updateNeeded?this._rerender():this._updateTimer=setTimeout(function(){t._rerender()},this.delayedUpdateTime)):this._rerender(),this.updateNeeded=!1}},{key:"updateDynamic",value:function(){var t=this;this._renders.forEach(function(e){e instanceof Os&&e.update(t._master.bbox,t._master.map.resolution)})}},{key:"_removeOutdatedRenders",value:function(t){for(var e=this._renders.length-1;e>=0;e--)t.indexOf(this._renders[e])<0&&this._removeRender(this._renders[e])}},{key:"_removeCanvas",value:function(){this._canvasContainer&&this._canvasContainer.removeNode(this._canvas.node)}},{key:"_addCanvasToDom",value:function(t){this._canvasContainer=this.currentContainer,this._canvasContainer.addNode(this._canvas.node,this._canvas.width,this._canvas.height,t)}},{key:"_resetCanvas",value:function(t){this._removeCanvas(),this._canvas.reset(t,this._master.map.resolution,this._master.width,this._master.height)}},{key:"_rerender",value:function(){var t=this._master.bbox,e=this._layer.getRenders(t,this._master.map.resolution);this._layer.updateProhibited||(this.currentContainer=this._master.currContainer,this._resetCanvas(t),this._removeCanvas(),this._removeOutdatedRenders(e),this._draw(e),this._canvas.isEmpty||this._addCanvasToDom(t),this._renders=e)}},{key:"_draw",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;(s instanceof Is||s instanceof Ms||this._renders.indexOf(s)<0)&&this._drawRender(s)}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"_drawRender",value:function(t){t instanceof Es?this._drawStaticRender(t):t instanceof Os&&this._drawDynamicRender(t),this._setRenderListeners(t)}},{key:"_setRenderListeners",value:function(t){var e=this;this.listensFor.forEach(function(n){t.listensFor&n&&e._eventCatchers[n].set(t,t)})}},{key:"_removeRenderListeners",value:function(t){var e=this;this.listensFor.forEach(function(n){t.listensFor&n&&e._eventCatchers[n].delete(t)})}},{key:"_drawStaticRender",value:function(t){t instanceof Ls?this._drawImageRender(t):t instanceof Ms?this._drawVectorRender(t):t instanceof Is&&this._drawAfterLoad(t)}},{key:"_drawImageRender",value:function(t){t.error||(t.node.style.zIndex=this._zIndex.toString(),this._currentContainer.addNode(t.node,t.width,t.height,t.bbox),t.onDisplayed&&t.onDisplayed())}},{key:"_drawAfterLoad",value:function(t){var e=this,n=t.node;if(n instanceof HTMLImageElement){if(n.complete)return this._drawVectorRender(t);hs(n,"load",function(){e._renders.indexOf(t)>=0&&(e._drawVectorRender(t),e._canvas.node.parentNode||e._addCanvasToDom(e._master.bbox))})}else this._drawVectorRender(t)}},{key:"_drawVectorRender",value:function(t){this._canvas.draw(t)}},{key:"_drawDynamicRender",value:function(t){t.update(this._master.bbox,this._master.map.resolution),this._master.dynamicContainer.appendChild(t.node),this._renders.push(t),t.onRender&&t.onRender()}},{key:"_removeRender",value:function(t){(t instanceof Rs||t instanceof Os)&&t.node.parentNode&&(t.node.parentNode.removeChild(t.node),t instanceof Ls&&t.onRemoved&&t.onRemoved()),this._removeRenderListeners(t)}},{key:"moveToLastContainer",value:function(){this._moveRendersToLastContainer(),this._canvas.node.parentNode&&(this._canvasContainer.removeNode(this._canvas.node),this._master.currContainer.addNode(this._canvas.node,this._canvas.width,this._canvas.height,this._canvas.bbox),this._canvasContainer=this._master.currContainer),this._currentContainer=this._master.currContainer}},{key:"_moveRendersToLastContainer",value:function(){var t=this._master.currContainer,e=!0,n=!1,i=void 0;try{for(var r,o=this._renders[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s instanceof Ls&&t.addNode(s.node,s.width,s.height,s.bbox)}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"getEventCatcher",value:function(t,e){if(!this._eventCatchers[t])return[null,null];for(var n=Array.from(this._eventCatchers[t].keys()),i=n.length-1;i>=0;i--){var r=n[i],o=r.contains&&r.contains(e);if(o)return[r,o]}return[null,null]}},{key:"layer",get:function(){return this._layer}},{key:"currentContainer",get:function(){return this._currentContainer},set:function(t){this._currentContainer!==t&&(this._currentContainer=t,this._master.resolveLayerOverlay())}}]),t}(),Ns=function(){function t(e,n,i,r){s(this,t),this._onEmpty=r,this._bbox=n,this._resolution=i,this._setContainer(e)}return c(t,[{key:"_setContainer",value:function(t){this._container=document.createElement("div"),this._container.style.cssText="width: 100%; height: 100%; transform-origin: left top; position: absolute;",t.appendChild(this._container)}},{key:"remove",value:function(){this._container.innerHTML="",this._container.parentNode&&this._container.parentNode.removeChild(this._container)}},{key:"updateTransform",value:function(t,e){t.crs!==this._bbox.crs&&(t=t.projectTo(this._bbox.crs)),this._scale=this._resolution/e,Gs(this._container,this._scale,(this._bbox.xMin-t.xMin)/e,(t.yMax-this._bbox.yMax)/e)}},{key:"addNode",value:function(e,n,i,r){if(r.crs!==this._bbox.crs){if(!r.crs.canProjectTo(this._bbox.crs))return;r=r.projectTo(this._bbox.crs)}t._setNodeStyle(e),Gs(e,r.width/n/this._resolution,(r.xMin-this._bbox.xMin)/this._resolution,(this._bbox.yMax-r.yMax)/this._resolution),this._container.appendChild(e)}},{key:"addFixedSizeNode",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t._setNodeStyle(e),Gs(e,1,n[0]+i[0]-this._bbox.xMin/this._resolution,n[1]+i[1]+this._bbox.yMax/this._resolution),this._container.appendChild(e)}},{key:"removeNode",value:function(t){t.parentNode===this._container&&(this._container.removeChild(t),0===this._container.childElementCount&&this._onEmpty())}},{key:"isEmpty",get:function(){return 0===this._container.childElementCount}},{key:"scale",get:function(){return this._scale}},{key:"crs",get:function(){return this._bbox.crs}},{key:"resolution",get:function(){return this._resolution}}],[{key:"_setNodeStyle",value:function(t){t.style.position="absolute",t.style.transformOrigin="left top"}}]),t}();function Gs(t,e,n,i){n=Us(Hs(n)),i=Us(Hs(i)),e=Hs(e),t.style.transform="translate3d("+n+"px,"+i+"px,0px) scale("+e.toPrecision(6)+","+e.toPrecision(6)+")"}function Hs(t){return Math.abs(t-Math.round(t))<.001?Math.round(t):t}function Us(t){return Go?t:Math.round(t)}var Ws=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xo;s(this,t),this._crs=i,this._p=[Math.min(e[0],n[0]),Math.min(e[1],n[1]),Math.max(e[0],n[0]),Math.max(e[1],n[1])]}return c(t,[{key:"projectTo",value:function(e){return new t(new Ho([this._p[0],this._p[1]],this._crs).projectTo(e).position,new Ho([this._p[2],this._p[3]],this._crs).projectTo(e).position,e)}},{key:"clone",value:function(){return this.projectTo(this._crs)}},{key:"equals",value:function(t){for(var e=t.coordinates,n=0;n<4;n++)if(!_o(this._p[n],e[n]))return!1;return this._crs.equals(t.crs)}},{key:"intersect",value:function(e){return e=e.crs===this.crs?e:e.projectTo(this.crs),new t([Math.min(this.xMin,e.xMin),Math.min(this.yMin,e.yMin)],[Math.max(this.xMax,e.xMax),Math.max(this.yMax,e.yMax)],this.crs)}},{key:"intersects",value:function(t){var e=t.projectTo(this._crs);return this.xMax>e.xMin&&this.xMin<e.xMax&&this.yMax>e.yMin&&this.yMin<e.yMax}},{key:"contains",value:function(t){var e=t.projectTo(this.crs);return this.xMin<=e.x&&this.xMax>=e.x&&this.yMin<=e.y&&this.yMax>=e.y}},{key:"offset",value:function(e){return new t([this.xMin-e[0],this.yMin-e[1]],[this.xMax+e[0],this.yMax+e[1]],this.crs)}},{key:"center",get:function(){return[(this.xMax+this.xMin)/2,(this.yMax+this.yMin)/2]}},{key:"crs",get:function(){return this._crs}},{key:"xMax",get:function(){return this._p[2]},set:function(t){t<this.xMin&&Ro("Max value cannot be lower than the min value"),this._p[2]=t}},{key:"yMax",get:function(){return this._p[3]},set:function(t){t<this.yMin&&Ro("Max value cannot be lower than the min value"),this._p[3]=t}},{key:"xMin",get:function(){return this._p[0]},set:function(t){t>this.xMax&&Ro("Min value cannot be higher than the max value"),this._p[0]=t}},{key:"yMin",get:function(){return this._p[1]},set:function(t){t>this.yMax&&Ro("Min value cannot be higher than the max value"),this._p[1]=t}},{key:"width",get:function(){return this.xMax-this.xMin}},{key:"height",get:function(){return this.yMax-this.yMin}},{key:"coordinates",get:function(){return[this._p[0],this._p[1],this._p[2],this._p[3]]}}],[{key:"fromPoint",value:function(e,n){return new t([e.x-n,e.y-n],[e.x+n,e.y+n],e.crs)}}]),t}(),zs="position: absolute; width: 100%; height: 100%; z-index: 0;",Ys=function(t){function e(t){var n,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).wrapper,r=void 0===i?null:i;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._map=t,n.wrapper=r,n._layerRenderers=new Map,n._containers=[],n._position=[1/0,1/0],n._resolution=1/0,n._needUpdate=!0,n._updateAllowed=!0,n._updateLayerList(),n._setEventListeners(),n._repaintBound=n._repaint.bind(h(n)),n._repaint(),n}return u(e,Zo),c(e,[{key:"show",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.projectTo(this.map.crs),i=n.width/this.width,r=n.height/this.height,o=e?"animateTo":"setPosition",s=n.center;return this.map[o](s,this.map.getAdjustedResolution(Math.max(i,r))),new Ws([s[0]-this.width*i,s[1]-this.height*r],[s[0]+this.width*i,s[1]+this.height*r],this.map.crs)}},{key:"_updateLayerList",value:function(){var t=this,e=this._map.getLayers(!0,!0),n=!0,i=!1,r=void 0;try{for(var o,s=this._layerRenderers.keys()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;e.indexOf(a)<0&&this._removeLayer(a)}}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}e.forEach(function(e,n){var i=t._layerRenderers.get(e);i?i.setIndex(n):t._addLayer(e,n)})}},{key:"_addLayer",value:function(t,e){this._layerRenderers.set(t,new Bs(this,t,e))}},{key:"_removeLayer",value:function(t){this._layerRenderers.get(t).clear(),this._layerRenderers.delete(t)}},{key:"_setEventListeners",value:function(){this._map.on(ns.type,this._updateLayerList.bind(this)),this._map.on(ws.type,this._onMapDrag.bind(this)),this._map.on(ys.type,this._onMapDblClick.bind(this)),this._map.on(ss.type,this.forbidUpdate.bind(this)),this._map.on(as.type,this.allowUpdate.bind(this))}},{key:"forbidUpdate",value:function(){this._updateAllowed=!1}},{key:"allowUpdate",value:function(){this._updateAllowed=!0}},{key:"_repaint",value:function(){var t=this;if(this._updateSize(),this.isDisplayed){this._needUpdate&&this._updateAllowed&&(this._setNewContainer(),this._needUpdate=!1),this._updateBbox();var e=this._map.getLayers(!0,!0),n=this._redrawNeeded;this._updateAllowed&&(e.reverse().forEach(function(e){var i=t._layerRenderers.get(e);if(n||i.updateNeeded)try{i.update()}catch(t){Io(t),i.updateNeeded=!1}}),this._redrawNeeded=!1),n&&e.forEach(function(e){t._layerRenderers.get(e).updateDynamic()})}window.requestAnimationFrame(this._repaintBound)}},{key:"_setNewContainer",value:function(){this._containers.push(new Ns(this._staticRendersContainer,this.bbox,this._map.resolution,this._removeEmptyContainers.bind(this)))}},{key:"_removeEmptyContainers",value:function(){for(var t=this._containers.length-2;t>=0;t--)this._containers[t].isEmpty&&this._removeContainer(t)}},{key:"_removeContainer",value:function(t){this._containers[t].remove(),this._containers.splice(t,1)}},{key:"_updateSize",value:function(){this._width=this._wrapper?this._wrapper.clientWidth||this._wrapper.offsetWidth:0,this._height=this._wrapper?this._wrapper.clientHeight||this._wrapper.offsetHeight:0}},{key:"_updateBbox",value:function(){var t=this,e=this._map.position;if(this._position[0]!==e[0]||this._position[1]!==e[1]||!_o(this._map.resolution,this._resolution)||this._bboxWidth!==this._width||this._bboxHeight!==this._height){this._position=[e[0],e[1]],this._resolution=this._map.resolution;var n=this._width*this._resolution/2,i=this._height*this._resolution/2;this._bbox=new Ws([e[0]-n,e[1]-i],[e[0]+n,e[1]+i],this._map.crs),this._containers.forEach(function(e){e.crs.canProjectTo(t._map.crs)?e.updateTransform(t._bbox,t._resolution):(t._removeContainer(t._containers.indexOf(e)),0===t._containers.length&&t._setNewContainer())}),this._containers.length>0&&1!==this._containers[this._containers.length-1].scale&&(this._needUpdate=!0),this._bboxWidth=this._width,this._bboxHeight=this._height,this._redrawNeeded=!0}}},{key:"_initDOM",value:function(t){var e=t instanceof HTMLElement?t:document.getElementById(t);e||Ro('The element with ID "'+t+'" is not found.'),this._innerWrapper=document.createElement("div"),this._innerWrapper.style.cssText="position: relative; overflow: hidden; width: 100%; height: 100%;",this._staticRendersContainer=document.createElement("div"),this._staticRendersContainer.style.cssText=zs,this._dynamicRendersContainer=document.createElement("div"),this._dynamicRendersContainer.style.cssText=zs,this._innerWrapper.appendChild(this._staticRendersContainer),this._innerWrapper.appendChild(this._dynamicRendersContainer),e.appendChild(this._innerWrapper),this._wrapper=e}},{key:"_clearDOM",value:function(){this._innerWrapper.parentNode&&this._innerWrapper.parentNode.removeChild(this._innerWrapper),this._innerWrapper=null,this._staticRendersContainer=null,this._dynamicRendersContainer=null,this._wrapper=null,this._eventDispatcher.remove(),this._eventDispatcher=null,this._clearContainers()}},{key:"_clearContainers",value:function(){var t=this;this._containers.forEach(function(e,n){t._removeContainer(n)}),this._map.getLayers(!0,!0).reverse().forEach(function(e){t._layerRenderers.get(e).clear()})}},{key:"resolveLayerOverlay",value:function(){var t=this,e=0;this._map.getLayers(!0,!0).forEach(function(n){var i=t._layerRenderers.get(n);if(i){var r=t._containers.indexOf(i.currentContainer);r<e?(i.moveToLastContainer(),e=t._containers.length-1):e=r}}),this._removeEmptyContainers()}},{key:"getPointFromPxPosition",value:function(t,e){var n=this._map.resolution,i=this.bbox;return new Ho([i.xMin+t*n,i.yMax-e*n],i.crs)}},{key:"getPxPosition",value:function(t){return[(t[0]-this.bbox.xMin)/this._map.resolution,(this.bbox.yMax-t[1])/this._map.resolution]}},{key:"_onMapDrag",value:function(t){var e=this;setTimeout(function(){t.isCanceled||e._map.move(t.offset[0],t.offset[1])},0)}},{key:"_onMapDblClick",value:function(t){var e=this;setTimeout(function(){t.isCanceled||e._map.animateSetResolution(e._map.resolution/2,t.point)},0)}},{key:"wrapper",get:function(){return this._wrapper},set:function(t){this._wrapper&&this._clearDOM(),t&&(this._initDOM(t),this._eventDispatcher=new Cs(this._innerWrapper,this),this._needUpdate=!0,this._redrawNeeded=!0),this.fire("wrapperChange")}},{key:"layerRenderers",get:function(){return Array.from(this._layerRenderers.values())}},{key:"isDisplayed",get:function(){return this._width>0&&this._height>0}},{key:"bbox",get:function(){return this._bbox||this._updateBbox(),this._bbox}},{key:"map",get:function(){return this._map}},{key:"currContainer",get:function(){return this._containers[this._containers.length-1]}},{key:"dynamicContainer",get:function(){return this._dynamicRendersContainer}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"innerWrapper",get:function(){return this._innerWrapper}}]),e}(),Vs={registerPlugin:function(t,e){Vs[t]?Io("Plugin with name ".concat(t," already registered. Skipping.")):Vs[t]=e}},Qs=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},Ks=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;s(this,e);var o=i.tileScheme,a=void 0===o?Yo.default:o,c=i.crs,u=void 0===c?ko:c,f=i.cycleX,d=void 0===f||f,p=i.cycleY,v=void 0!==p&&p,y=i.cacheSize,g=void 0===y?256:y,_=i.transitionTime,m=void 0===_?500:_,b=Qs(i,["tileScheme","crs","cycleX","cycleY","cacheSize","transitionTime"]);return(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,b,r)))._tileCache={},n._cachedIndexes=[],n._previousTiles=[],n._urlMask=t,n.tileScheme=a,n.crs=u,n.cycleX=d,n.cycleY=v,n._cacheSize=g,n._transitionTime=m,n._tileFadeIn=n._tileFadeIn.bind(h(n)),n}return u(e,es),c(e,[{key:"getTileUrl",value:function(t,e,n){return this._urlMask.replace("{x}",t.toString()).replace("{y}",e.toString()).replace("{z}",n.toString())}},{key:"getRenders",value:function(t,e){var n=this._getTileIndexes(t,e),i=[],r=!0,o=!0,s=!1,a=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value,l=this._getRender(h);l.isReady&&i.push(l),l.isComplete&&l.isReady||(r=!1)}}catch(t){s=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw a}}return r?this._previousTiles=[]:this._previousTiles.forEach(function(t){i.indexOf(t)<0&&i.push(t)}),this._previousTiles=i,i}},{key:"_getRender",value:function(t){var n=this,i=e._getTileId(t.z,t.x,t.y);if(this._tileCache[i])return this._tileCache[i];var r=this.cycleX?this._getAdjustedIndex(t.x,t.level):t.x,o=this.cycleY?this._getAdjustedIndex(t.y,t.level):t.y,s=this._getTileBbox(t),a=new Ls({src:this.getTileUrl(r,o,t.z),width:this.tileWidth,height:this.tileHeight,bbox:s,onLoad:function(){return n.redraw()}});return this._transitionTime>0&&(a.node.style.opacity="0",a.node.style.transition="opacity ".concat(this.transitionTime/1e3,"s"),a.isComplete=!1),a.onDisplayed=function(){n.transitionTime>0&&setTimeout(function(){a.node.style.opacity=n.opacity.toString(),setTimeout(function(){a.isComplete=!0,n.redraw()},n.transitionTime)},0)},a.onRemoved=function(){n.transitionTime>0&&(a.node.style.opacity="0",a.isComplete=!1)},this._cacheTile(i,a),a}},{key:"_getTileBbox",value:function(t){var e=this.tileScheme.levels[t.level].resolution,n=this.tileWidth*e,i=this.tileScheme.origin[0]+t.x*n,r=this.tileHeight*e;this.tileScheme.reversedY||(r*=-1);var o=t.y*r,s=this.tileScheme.origin[1]+o;return new Ws([i,s],[i+n,s+r],this.crs)}},{key:"_cacheTile",value:function(t,e){this._tileCache[t]||(this._tileCache[t]=e,this._cachedIndexes.push(t),this._cachedIndexes.length>this._cacheSize&&delete this._tileCache[this._cachedIndexes.shift()])}},{key:"_getTileIndexes",value:function(t,e){if(!this.crs.canProjectTo(t.crs))return[];if(!this.checkVisibility(e))return[];var n=this.tileScheme.getLevel(e);if(n<0)return[];var i=this._getTrimmedBbox(t.projectTo(this.crs));if(0===i.width||0===i.height)return[];var r=this.tileScheme.levels[n].resolution;if(2*r<e)return[];var o,s,a=Math.floor((i.xMin-this.tileScheme.origin[0])/this.tileWidth/r),c=Math.ceil((i.xMax-this.tileScheme.origin[0])/this.tileWidth/r);this.tileScheme.reversedY?(o=Math.floor((i.yMin-this.tileScheme.origin[1])/this.tileHeight/r),s=Math.ceil((i.yMax-this.tileScheme.origin[1])/this.tileHeight/r)):(o=Math.floor((this.tileScheme.origin[1]-i.yMax)/this.tileHeight/r),s=Math.ceil((this.tileScheme.origin[1]-i.yMin)/this.tileHeight/r));for(var u=[],h=a;h<c;h++)for(var l=o;l<s;l++)u.push({x:h,y:l,z:this.tileScheme.levels[n].zIndex,level:n});return u}},{key:"_getAdjustedIndex",value:function(t,e){var n=this.tileScheme.levels[e];if(!n.indexCount||n.indexCount<=0||t>=0&&t<n.indexCount)return t;for(;t<0;)t+=n.indexCount;return t%n.indexCount}},{key:"_getTrimmedBbox",value:function(t){if(!this.tileScheme.limits)return t;var e=this.tileScheme.limits,n=Math.max(t.xMin,e[0]),i=Math.max(t.yMin,e[1]),r=Math.min(t.xMax,e[2]),o=Math.min(t.yMax,e[3]);return r<n&&(r=n),o<i&&(o=i),new Ws([n,i],[r,o],t.crs)}},{key:"_tileFadeIn",value:function(t){this._transitionTime<=0||(t.style.transition="opacity "+this.transitionTime/1e3+"s linear",t.style.opacity=this.opacity.toString())}},{key:"tileWidth",get:function(){return this.tileScheme.tileWidth}},{key:"tileHeight",get:function(){return this.tileScheme.tileHeight}},{key:"opacity",get:function(){return this._opacity},set:function(t){this._opacity=t;for(var e=Object.keys(this._tileCache),n=0;n<e.length;n++){var i=e[n];this._tileCache[i].isReady&&(this._tileCache[i].node.style.opacity=t.toString())}this.redraw()}},{key:"transitionTime",get:function(){return this._transitionTime},set:function(t){this._transitionTime=t}}],[{key:"_getTileId",value:function(t,e,n){return[t,e,n].join(",")}}]),e}(),Zs=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},Js=function(t){function e(t){var n;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))).features=t,n}return u(e,Ko),e}();Js.type="featuresAdd";var Xs=function(t){function e(t){var n;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.type))).features=t,n}return u(e,Ko),e}();Xs.type="featuresRemove";var qs=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;s(this,e);var r=n.delayedUpdate,o=void 0===r||r,a=n.features,c=void 0===a?[]:a,u=Zs(n,["delayedUpdate","features"]);return(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({delayedUpdate:o},u),i)))._features=c,t}return u(e,es),c(e,[{key:"getRenders",value:function(t,e){var n=this,i=[];return this.getFeatures(t,e).forEach(function(r){(i=i.concat(r.render(e,t.crs))).forEach(function(t){t instanceof Rs&&(t.onLoad=function(){n.redraw()})})}),i}},{key:"getFeatures",value:function(t,e){return this.checkVisibility(e)?this._features.filter(function(e){return e.crs.canProjectTo(t.crs)&&(e.persistOnMap||e.bbox.intersects(t))}):[]}},{key:"add",value:function(t){var e=this,n=Array.isArray(t)?t:[t];0!==n.length&&(n.forEach(function(t){-1!==e._features.indexOf(t)&&Ro(new Error("Feature ".concat(t," is already in the layer")))}),this._features=this._features.concat(n),this.fire(new Js(n)),this.redraw())}},{key:"remove",value:function(t){var e=this,n=Array.isArray(t)?t:[t];0!==n.length&&(n.forEach(function(t){var n=e._features.indexOf(t);-1===n&&Ro(new Error("Feature ".concat(t," is not in the layer"))),e._features.splice(n,1)}),this.fire(new Xs(n)),this.redraw())}},{key:"has",value:function(t){return-1!==this._features.indexOf(t)}},{key:"moveToTop",value:function(t){var e=this._features.indexOf(t);-1!==e&&(this._features.splice(e,1),this._features.push(t),this.redraw())}},{key:"features",get:function(){return this._features},set:function(t){var e=this._features;this._features=[],this.fire(new Xs(e)),this.add(t),this.redraw()}}]),e}(),$s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.crs,r=void 0===i?xo:i,o=n.symbol,a=n.persistOnMap,c=void 0!==a&&a;return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._hidden=!1,t._symbolContainer=new ta(h(t),o),t._crs=r,t.persistOnMap=c,t}return u(e,Zo),c(e,[{key:"render",value:function(t,e){return this._symbolContainer.render(t,e)}},{key:"redraw",value:function(){this._symbolContainer.reset()}},{key:"hide",value:function(){this._hidden=!0}},{key:"show",value:function(){this._hidden=!1}},{key:"setTempSymbol",value:function(t){this._symbolContainer.setTempSymbol(t)}},{key:"clearTempSymbol",value:function(){this._symbolContainer.clearTempSymbol()}},{key:"isTempSymbolSet",get:function(){return this._symbolContainer.isTempSymbolSet}},{key:"originalSymbol",get:function(){return this._symbolContainer.originalSymbol}},{key:"crs",get:function(){return this._crs}},{key:"symbol",get:function(){return this._symbolContainer.symbol},set:function(t){this._symbolContainer.symbol=t}},{key:"hidden",get:function(){return this._hidden}}],[{key:"setDefaultCrs",value:function(t){e.prototype._crs=t}}]),e}(),ta=function(){function t(e,n){s(this,t),this._feature=e,this._symbol=n}return c(t,[{key:"render",value:function(t,e){var n=this;return this._feature.hidden||!this.symbol?[]:this._cached&&!this._needToRender(t,e)?this._cached.renders:(this._cached={resolution:t,crs:e,renders:this.symbol.renderFunction(this._feature,t,e)},this._feature.eventFlags!==zo.None&&this._cached.renders.forEach(function(t){t.listenFor(n._feature.eventFlags,function(t){n._feature.fire(t)})}),this._cached.renders)}},{key:"_needToRender",value:function(t,e){return!this._cached||this._cached.resolution!==t||this._cached.crs!==e||0===this._cached.renders.length}},{key:"reset",value:function(){this._cached=void 0}},{key:"setTempSymbol",value:function(t){this._tempSymbol=t,this.reset()}},{key:"clearTempSymbol",value:function(){this._tempSymbol=void 0,this.reset()}},{key:"symbol",get:function(){return this._tempSymbol||this._symbol},set:function(t){this._symbol=t,this.reset()}},{key:"isTempSymbolSet",get:function(){return!!this._tempSymbol}},{key:"originalSymbol",get:function(){return this._symbol}}]),t}(),ea=function(){function t(e){s(this,t),this._original=e,Lo(e)||(e=e.toString()),this._color=e&&e.trim()||"transparent",this._setChannels()}return c(t,[{key:"_setChannels",value:function(){var t=this.format;t&&ia[t]?this._channels=ia[t](this._color):this._channels={r:NaN,g:NaN,b:NaN,a:NaN}}},{key:"toString",value:function(t){return"hex"===t?"#"+na(this.a)+na(this.r)+na(this.g)+na(this.b):"rgb"===t?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+(this.a/255).toFixed(2).replace(/\.*0+$/,"")+")"}},{key:"setHsv",value:function(t,e,n){var i=[];t/=60,e/=100,n/=100;var r=Math.floor(t),o=r%6,s=t-r,a=Math.round(255*n*(1-e)),c=Math.round(255*n*(1-e*s)),u=Math.round(255*n*(1-e*(1-s)));switch(n=Math.round(255*n),o){case 0:i=[n,u,a];break;case 1:i=[c,n,a];break;case 2:i=[a,n,u];break;case 3:i=[a,c,n];break;case 4:i=[u,a,n];break;case 5:i=[n,a,c]}return this._channels.r=i[0],this._channels.g=i[1],this._channels.b=i[2],this}},{key:"_min",get:function(){return Math.min(this._channels.r,this._channels.g,this._channels.b)}},{key:"_max",get:function(){return Math.max(this._channels.r,this._channels.g,this._channels.b)}},{key:"_delta",get:function(){return this._max-this._min}},{key:"original",get:function(){return this._original}},{key:"isValid",get:function(){return Do(this._channels.a)&&Do(this._channels.r)&&Do(this._channels.g)&&Do(this._channels.b)}},{key:"format",get:function(){if("#"===this._color.substr(0,1)&&-1===this._color.search(/[^#0-9a-fA-F]/)){if(4===this._color.length)return"hex3";if(7===this._color.length)return"hex6";if(5===this._color.length)return"hex4";if(9===this._color.length)return"hex8"}else{if("rgb("===this._color.substr(0,4))return"rgb";if("rgba("===this._color.substr(0,5))return"rgba";if("hsv("===this._color.substr(0,4))return"hsv";if(this._color in t.names)return"name"}}},{key:"r",get:function(){return this._channels.r},set:function(t){this._channels.r=t}},{key:"g",get:function(){return this._channels.g},set:function(t){this._channels.g=t}},{key:"b",get:function(){return this._channels.b},set:function(t){this._channels.b=t}},{key:"a",get:function(){return this._channels.a},set:function(t){this._channels.a=t}},{key:"h",get:function(){var t,e=this._max,n=this._min,i=this._delta,r=this._channels,o=r.r,s=r.g,a=r.b;return e===n?t=0:o===e?t=(s-a)/i:s===e?t=2+(a-o)/i:a===e&&(t=4+(o-s)/i),(t=Math.min(60*t,360))<0&&(t+=360),t=Math.round(t)}},{key:"s",get:function(){var t,e=this._max;return t=0===e?0:this._delta/e*1e3/10,t=Math.round(t)}},{key:"v",get:function(){return Math.round(this._max/255*1e3/10)}},{key:"channels",get:function(){return Object.assign({},this._channels)}}]),t}();function na(t){var e=Math.floor(t).toString(16);return 1===e.length?"0"+e:e}ea.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32",transparent:"0000"};var ia={hex3:function(t){return{r:parseInt(t.substr(1,1)+t.substr(1,1),16),g:parseInt(t.substr(2,1)+t.substr(2,1),16),b:parseInt(t.substr(3,1)+t.substr(3,1),16),a:255}},hex6:function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16),a:255}},hex4:function(t){return{r:parseInt(t.substr(2,1)+t.substr(2,1),16),g:parseInt(t.substr(3,1)+t.substr(3,1),16),b:parseInt(t.substr(4,1)+t.substr(4,1),16),a:parseInt(t.substr(1,1)+t.substr(1,1),16)}},hex8:function(t){return{r:parseInt(t.substr(3,2),16),g:parseInt(t.substr(5,2),16),b:parseInt(t.substr(7,2),16),a:parseInt(t.substr(1,2),16)}},rgb:function(t){var e=t.match(/%/g);if(e&&3!==e.length)n=[];else for(var n=t.substring(t.search(/\(/)+1,t.length-1).split(","),i=0;i<3;i++)if(n[i]){n[i]=n[i].trim();var r=n[i].match(/[.\d\-]+%/);if(r){var o=n[i].match(/\./g);n[i]=-1===n[i].search(/[^\d.\-%]/)&&(!o||o.length<2)?parseFloat(r[0]):NaN,n[i]<0?n[i]=0:n[i]>100&&(n[i]=100),n[i]=Math.floor(255*n[i]/100)}else n[i]=n[i]&&null===n[i].match(/[^ \-0-9]/)&&1===n[i].match(/[0-9]+/g).length?parseInt(n[i]):NaN,n[i]<0?n[i]=0:n[i]>255&&(n[i]=255)}return{r:n[0],g:n[1],b:n[2],a:255}},rgba:function(t){var e=ia.rgb(t);e.a=void 0;var n=t.match(/[\-0-9\.]+/g);if(n&&n[3]){var i=n[3].match(/\./g);i&&1!==i.length||(e.a=parseFloat(n[3]),e.a<0?e.a=0:e.a>1&&(e.a=1),e.a=Math.round(255*e.a))}return e},name:function(t){return new ea("#"+ea.names[t]).channels}},ra={},oa=function(t,e,n){ra[e]={Constructor:t,properties:n}},sa=function(){function t(){s(this,t)}return c(t,[{key:"clone",value:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ra[t.symbolName]||Ro(new Error("Unknown type of symbol."));var n=new ra[t.symbolName].Constructor;return ra[t.symbolName].properties.forEach(function(i){var r=t[i];if(e){var o=new ea(r.toString());o.isValid&&o.format===e&&(r=o.toString("rgba"))}r instanceof Object&&(r=No(r)),n[i]=r}),n}(function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.keys(ra),i=0;i<n.length;i++){var r=ra[n[i]];if(t instanceof r.Constructor){var s=function(){var o={symbolName:n[i]};return r.properties.forEach(function(n){var i=t[n];if(e){var r=new ea(i);r.isValid&&(i=r.toString(e))}i instanceof Object&&(i=No(i)),o[n]=i}),{v:o}}();if("object"===o(s))return s.v}}Ro(new Error("Unknown type of symbol."))}(this))}}]),t}(),aa=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.offset,r=void 0===i?[5,0]:i,o=n.onRender;return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).offset=r,t.onRender=o,t}return u(e,sa),c(e,[{key:"renderFunction",value:function(t,e,n){var i=this,r=t;if(r.__dynamicSymbolRender)return[r.__dynamicSymbolRender];var o=this._getFeatureNode(t);return o.style.position="absolute",r.__dynamicSymbolRender=new Os({node:o,onRender:this.onRender,update:function(t,e){if(r.crs.canProjectTo(t.crs)){var n=r.projectTo(t.crs),s=Math.round((n.x-t.xMin)/e+i.offset[0]),a=Math.round((t.yMax-n.y)/e+i.offset[1]);o.style.left="".concat(s.toString(),"px"),o.style.top="".concat(a.toString(),"px")}}}),this._setEventListeners(r),[r.__dynamicSymbolRender]}},{key:"getNode",value:function(t){return f(this.renderFunction(t,1,null),1)[0].node}},{key:"_setEventListeners",value:function(t){t.eventFlags!==zo.None&&Object.keys(Vo).forEach(function(e){t.eventFlags&Vo[e].flag&&hs(t.__dynamicSymbolRender.node,Vo[e].type,function(n){t.fire(Vo[e].type,{node:t.__dynamicSymbolRender.node,browserEvent:n})})})}}]),e}(),ca=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).size=10,t._offset=[0,0],t.fillColor="black",t.strokeColor="transparent",t.strokeWidth=1,Object.assign(h(t),n),t}return u(e,sa),c(e,[{key:"renderFunction",value:function(t,e,n){if(!(t instanceof ha))return[];var i=t.projectTo(n).position,r=[i[0]/e+(this.offset[0]||0),-i[1]/e+(this.offset[1]||0)];return[new As(r,{fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,radius:this.size/2})]}},{key:"offset",get:function(){return this._offset},set:function(t){var e=t;void 0!==e.x&&void 0!==e.y?(Io("Using anchorPoint in {x, y} format is deprecated. Use [x, y] format instead."),this._offset=[e.x,e.y]):this._offset=t}}]),e}();oa(ca,"point.Point",["size","offset","fillColor","strokeColor","strokeWidth"]);var ua=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},ha=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var r=i.symbol,o=void 0===r?new ca:r,a=ua(i,["symbol"]);return(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({symbol:o},a))))._position=t,n}return u(e,$s),c(e,[{key:"projectTo",value:function(t){return new e(Ho.prototype.projectTo.call(this,t).position,{crs:t,symbol:this.symbol})}},{key:"clone",value:function(){return this.projectTo(this.crs)}},{key:"bbox",get:function(){return new Ws(this._position,this._position,this.crs)}},{key:"position",get:function(){return[this._position[0],this._position[1]]},set:function(t){this._position=t,this.redraw()}},{key:"point",get:function(){return new Ho(this.position,this.crs)},set:function(t){this.position=t.projectTo(this.crs).position}},{key:"x",get:function(){return this._position[0]},set:function(t){this._position[0]=t,this.redraw()}},{key:"y",get:function(){return this._position[1]},set:function(t){this._position[1]=t,this.redraw()}},{key:"coordinates",get:function(){return[this.position[0],this.position[1]]},set:function(t){this.position=[t[0],t[1]]}},{key:"centroid",get:function(){return this.position}}]),e}();var la={mapContainer:"styles_mapContainer__2mQwZ",popup:"styles_popup__YPANG",popupContent:"styles_popupContent__16-bu",fadeIn:"styles_fadeIn__1a5nM",fadeOut:"styles_fadeOut__1qFLY",btnGroup:"styles_btnGroup__2TUwh",minimizeBtn:"styles_minimizeBtn__3mDRa",closeBtn:"styles_closeBtn__3MGcE",header:"styles_header__17JOB",headerTitle:"styles_headerTitle__9fJvc",headerSubtitle:"styles_headerSubtitle__3RP_d",row:"styles_row__v1O1S",silverCircle:"styles_silverCircle__228tI",timeIcon:"styles_timeIcon__25mKG",address:"styles_address__2g3Yg",periodicity:"styles_periodicity__Os8Gk",zoomPanel:"styles_zoomPanel__jEYYM",zoomIn:"styles_zoomIn__nEfAc",zoomOut:"styles_zoomOut__1fSyC",error:"styles_error__2BiaN",license:"styles_license__2MeWp"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("#styles_mapContainer__2mQwZ{position:relative;margin:0;width:100%;height:100%}#root{width:100%;height:100%}.sGis-balloon{border:none}.sGis-balloon:before{display:none}.sGis-balloon>div{border:none;border-radius:2px;box-shadow:0 2px 3px 0 rgba(0,0,0,.11);padding:0}.styles_popup__YPANG{border-radius:2px;min-height:316px;max-height:calc(100% - 64px);position:absolute;top:32px;left:32px;width:400px;overflow:auto;background-color:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,.11)}.styles_fadeIn__1a5nM{animation:a .2s ease-in}.styles_fadeOut__1qFLY{animation:b .2s ease-in-out}@keyframes a{0%{opacity:0}to{opacity:1}}@keyframes b{0%{opacity:1}to{opacity:0}}@media (max-height:674px){.styles_popup__YPANG{min-height:0}}@media (max-width:505px){.styles_popup__YPANG{width:280px;top:10px;left:10px}}@media (max-width:350px){.styles_popup__YPANG{width:250px}}.styles_btnGroup__2TUwh{margin-top:10px;display:flex;align-items:center;justify-content:space-around;width:44px;height:24px;top:0;right:15px;position:absolute}.styles_closeBtn__3MGcE,.styles_minimizeBtn__3mDRa{font-weight:700;font-size:24px;height:24px;display:flex;align-items:center;justify-content:space-around;flex-basis:50%;cursor:pointer;color:#9b9b9b;transition:all .4s ease}.styles_closeBtn__3MGcE:hover,.styles_minimizeBtn__3mDRa:hover{color:#888}.styles_minimizeBtn__3mDRa{opacity:0}.styles_closeBtn__3MGcE{user-select:none;font-size:14px}.styles_header__17JOB{position:relative;padding:20px 30px;border-bottom:1px solid #ededed}.styles_headerTitle__9fJvc{padding-right:30px;font-size:20px;margin-bottom:15px}.styles_headerSubtitle__3RP_d{font-size:14px}.styles_row__v1O1S{display:flex;padding:15px 20px;margin:0 20px;border-bottom:1px solid #ededed}.styles_row__v1O1S:last-child{padding:15px 20px 35px;border-bottom:none}.styles_silverCircle__228tI{top:5px;left:-20px;position:absolute;width:6px;height:6px;background-color:#b9b9b9;border-radius:50%}.styles_timeIcon__25mKG{top:4px;left:-18px;position:absolute;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5IiBoZWlnaHQ9IjkiIHZpZXdCb3g9IjAgMCA5IDkiPiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGNpcmNsZSBjeD0iNC41IiBjeT0iNC41IiByPSI0LjUiIGZpbGw9IiM4RUQwNDAiLz4gICAgICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00IDFoMXY0SDR6Ii8+ICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNCA0aDN2MUg0eiIvPiAgICA8L2c+PC9zdmc+)}.styles_address__2g3Yg{position:relative;color:#1a73a0}.styles_periodicity__Os8Gk{position:relative}.styles_popup__YPANG::-webkit-scrollbar{width:20px;height:20px;background:#fff}.styles_popup__YPANG::-webkit-scrollbar-thumb{min-width:7.692em;min-height:7.692em;background:#e6e6e6;border-radius:12px;border:6px solid #fff}.styles_popup__YPANG::-webkit-scrollbar-thumb:hover{background:#d7d7d7}.styles_popup__YPANG::-webkit-scrollbar-thumb:active{background:#cdcdcd}.styles_zoomPanel__jEYYM{width:36px;text-align:center;top:15px;right:15px;position:absolute}.styles_zoomIn__nEfAc,.styles_zoomOut__1fSyC{cursor:pointer}.styles_error__2BiaN{background-color:hsla(0,0%,100%,.4);padding:20px;z-index:1;font-size:24px;color:#fd431f;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute}.styles_license__2MeWp{text-align:right;color:#767676;position:absolute;right:25px;bottom:25px}");var fa='\n    <svg viewBox="0 0 40 73" style="enable-background:new 0 0 40 73;" xml:space="preserve">\n        <g>\n            <path style="opacity: 0.4" id="back" d="M26.3,42.3C24,41,24,40,26.1,39.1C34.1,36.5,40,28.9,40,20C40,9,31,0,20,0C9,0,0,9,0,20\n            c0,8.9,5.9,16.5,13.9,19.1C16,40,16,41,13.7,42.3C8,44.7,4,50.4,4,57c0,8.8,7.2,16,16,16s16-7.2,16-16C36,50.4,32,44.7,26.3,42.3z"\n    />\n            <path class='.concat(la.zoomIn,' style="fill: #FFFFFF" id="c_x5F_plus" d="M20,37.5c-9.6,0-17.5-7.9-17.5-17.5S10.4,2.5,20,2.5S37.5,10.4,37.5,20S29.6,37.5,20,37.5z"/>\n            <path  class=').concat(la.zoomOut,' style="fill: #FFFFFF" id="c_x5F_minus" d="M20,70.5c-7.4,0-13.5-6.1-13.5-13.5S12.6,43.5,20,43.5S33.5,49.6,33.5,57S27.4,70.5,20,70.5z"/>\n            <g id="minus">\n            <polygon points="27,19 21,19 21,13 19,13 19,19 13,19 13,21 19,21 19,27 21,27 21,21 27,21 \t\t"/>\n            </g>\n            <rect id="plus" x="14" y="56" width="12" height="2"/>\n        </g>\n    </svg>\n'),da="\n    <div class=".concat(la.error,'>\n       {{errorText}}\n       <p style="text-align: center">pls reload page</p>\n    </div>\n'),pa="\n    <div class=".concat(la.license,">\n        Работает на API 2GIS\n        <br>Лицензионное соглашение\n    </div>\n"),va="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAOVUlEQVR4Xu1cZ3RU1Rb+9kwyLWEmIYkhoUgQIgFUXKEEgbwgRUBAeIBSFAuIir0BPkQfCIrYQUFdKAj6RBBBH0VANFI1NEGaCASlhEDapGeSmfPWvpmUSbtn7gz4frjXyo/k7rPPPt89Z9/dTgh/kwcCdKXwEEKYAHQF0ANAOwCxAFoCCAJgdutRBKAAwGkAxwEcAbANQAoRFV8JXS8rIEIIC4AhAMYA6AfAqHFRJQA2AvgcwDdEVKhRjuqwywKIECISwGMAJgEIYS0EXMgtPYHMkl+Q7TiMgrIzKCg7izJXAZyC1wvoyYgAXRCCApohOKAFQgztEGa8EdbAa0DQVSwmB8ACAPOIKF11hV4y+BUQIQRv/akAJgPgI4IcxxGcKVyPs4WbUeLM9FK9cnajPgzNLP3Q3DJAAclNfIRe5R8i4qPmF/IbIEKIvgAWAWjBml0o2obf8z5RdoQ/KczYEW0a3Y0m5p4VYv8EMIGINvtjHp8BEUIEApgN4BkAlFt6Egez5yKjZK8/9KtXRrgxHteHTlaOk3IigdcBTCOiUl8m9gkQIYQNwJcA+rCN+D13CY7a31fsxZUgtitxtgfRxnpPhY35DsAIIrJrnV8zIG7DyZb/BocrBymZU5FRvEerHj6NCzd1QpewOTDoFPt9gL9oRHRRi1BNgLh3xnYAHQrLzmPnpUeQX8ZH+a8j/irdFPEuLAHRrMQh9ne07BSvAXE7WN8D6FZQdg7bL96PIqeml+F39M6l5iIpejHat+7OsncB6EVE5d90SdICyPsAHihxZmHrxfsUX+L/gVJPn0Z2VhaK7GZM6vUzYpp3YLU+IKIHvdHPK0CEEOxxfibgxLaLE5FVwsfVd9KT4rLAKbz3zoUQOHXqFOz2KjtamBGOmWNOwWIOZrFjiIg9XCmSBkQIEQ7gGICwQzlv40Tep1IT1GQK0FkQZU7CVaYEhATGKV6pjvjLDbhEqbLjckqP4mLxT0grSkaZq34vvS4wKubTZXTHv8dzGAT2Bq8lIimv0BtA2Okan+X4FVvT73N/+uUxYW8z1novWgYNRcWOUBvNO+Z0wRocz11cy8t1uVxITU312BnV5QkBdI9YhP7dWVd8REQT1Obj51KACCHYXz4k4KTk9Ltgd3AgKk8xwSPQ3vaoEqdoIY53DtvnIzWfXR6AwTh58iTy8vIaFFeUZcOssedhNJjZcetARBw9N0iygCwFcNeZgnXYm/WimszK53wU4hvPQFMLB7q+07nCTdidMR2/nzimCkbFbM3LHsb9w+fzr0uJ6G41LVQBEUJEATgj4NJ/f+EO5JWmqslUnusoAN3C5yHC1KVe/vSMP3E2ay8KSi4oPEHGJmjWOB6R4Uo4VCelHP0C647fCTbsMlSUE4yXx2YgMMDAA5oTUVpD42QAeRbA3PTindh1iSN6OYoPm4nmloG1mB2OEny0agqOZi2FLToHVBnVl7MKF2A/H4K4xuMwfvirMBhqp1C+3j4bezOnyynCrnTQHAzvwwE4JhPRa74CwuHqDXsyp+FsIXvq6nR10BDc2PiFWox7f/0ey7aPhDU6W10IgNzzobirx0rEX3dzLf5Xl/dEgXmHlBznpTjMnnCYeQ8QUUfNgAghmgBIcwkH1p3rVZnIaUhgoM6KvlGrYdBx3FdFW3Yux8bT42AKKpNaRAVTcX4AbolZit43jfIYl5OXhte+bQW9Qd0RdZYSnhuQieAgJdaJIqLyM1oHNXhkhBCjAfyHQ/ntFx+QWkhb20S0tU704D1+aj8W7UiAyaotMi/ODcSE7j8httWNHnLfWzMK6bRCSq+EsAUY2ENxWkcT0XKtgLzDqcBjuR/imP1D1Yk5HO8fvUHJcFWnZxdeA3O0nDGub5Ki8zF47aGTHo8vZqVi/tY2IFJPNzTKH4xnx37N4zn1+LhWQL4FcEtK5mScL+R4rmGKMHVG94iFHkzf//Q5ktPHqg2Vep4U+RluTuBNW0XTl8WArH+ojndmxWL2vexoYyMR9dcKyCkAMfy55UyYGrWzTUKsVfEMK+nFRV0hInarDZV6Tpc6Y8aEnz145385CpcC1Y+Nw27DnHGKMU8lolZaAeEMt40NaqmrYa+QJ+ga/gaizP/wmGvKUiuMtnypBasxFduDMXdcrgfb6h/mYn8u57UbJqcjELNHKgbYTkSKda2L1Iwqu7z4+kwXqbRgUuSnCDG0rTaPwPTV+lq+hpry9T1nH+WlYexfVam965fV2PDHcHWRgjBzaLkzR0T1rlsKkDVnOqlPCKB3kxVoFFi1Gx3OXMxaW+/LkJJZk+n5QTkw6K2Vf045uAFrU2+VkjXztnLje8UA6RX5GWyGayuV42Tzi2sCAVI2mu+kvGX2Y6re47a9q7D57EhV2UQ6zBhS7gP5AohiQ9aeS2wwL1GhTUL4m2hiTvRQ7vnPw6CzyHmmaqtyFYZg1ugsD7bP18/A0dIZakPhKgvErOG+25ATAK7ZlDYEnExWo3a2h5WcR3V6Y2Uf2A3qn2w12fzc5rgZT4/kSkMVvbJ4MIoar1Md7ixqhNmjlKzaSSJqXd8ANRvCK+m1/eJEZJTsU52UI9vuEVx2raKjf2zB8gP9wNktn4gIo2/YhLire3uIeWphJIKjL6mLzmuBmXdyUwF+IKLawZFbghogHwG4b3/WTPxR8I3qpER69I/+FkZdqAfv3FVdkB/gW80muKwTJg9P8ZB76LcULD+SAF2NiLkuRS2FN2HqaK6c4GMiGq91hzwM4N1T+SuU8qQM1XVs7AXn8Pbm9nCSpw8hI4959MKKJ/oehi2oqceQ6Qt6g5r+ICWmjelR3HULRyJ4hIje0wpIAtc3sh2H8GP6PVITc5TbN2oNAnWNPPhT01OwdFc/r0FhMMZ124SYSM9E05Hf9mHJni4wBavHMazIyOvW47pWisfejYh+0gpIAGetBVzW9ed6S3mrPFHL4GHoGDqt1pyZ+SexOHkocp2c2lSzKQSrvh3uTVqDsGCloF1JTqcTj78Vi8ZtJANGlxkzhuVx/Ze3aBgR1ZuDkMmYfQVg2O7M53CuUL7joHPYK2hq4Q4JT2LfZM+Jpdh2/E0U6U6gpMSzFmM0mmB2tUbP2KfQqfW46o0ylYJmzLsDzqtXSu1YZrKUdMLU2xX7s5qI/tnQQBlAODG7hMFgUGSJu4ESIt5GhLFzvUNKXNnILj6GwtLyRiBLYCRCTW1rGeXqAl7/8DFkhb6LAIOsJkBis3fQJ/5RHnA3EXHCvF6SAYTLX+ku4bBsON8PpS75QI1B6RT2cq2AT34pVZwOhwMvvjUG1Oorr8DQCTNeuC0bOjJwxSuSiBpcgCogrJIQQilD8JeGvzje0jWNxoBTA7IFqpryU/bswAfrxqJpR+87DKL0g/HQICUxtIyIxqnpLgsIR3e7ucy4OW2YhEGsPa1ZH4lrrePRImgQvy01vRRHbsfOrfhiyzTomu2CLUzNCNcWqdPpMSnxEK6yKfFVZyJSdYakAHHvkmQA//DWuNZUk5PQTS19cJWpq1LbNQc0UQzn7t27kW3PRuqZX3DiwjakFexEVFw2yuvV2qgx9cATQ7by4GQi6iUjxRtAktjt5caYLWkjpPIjMgpwQUtPFiQnJ8NoBnR6mVHqPHpdAB5MPIBIWxwzJxHRj+qjJGu7FYKEEOsBDDiQ/QpS81fJyJfm2bdPPVaSFsatkOahmNCPPQZsIKLaFbN6hEnvEPex4S6U/Q6XPWDLhREocfonrGfZ/gQkkGx4duApmAJC2QG7kYi4xUqKvALEDcocAFO4GXdvZu3qnNSsdTD5CxDODvaLfQ/d2yo1GG7qVU+4VtNHCyDcv86tQ61/znhGaWrxB/kLEG7Geaifkn/hXM713nY5ew2Ie5fwrYbtfHR+uDDaL013/gDEpIvA0wN/g1EfwkeFuxA9axYSb04TIG5Q/sUdzJw42nlpElzCu5ptTd18BSQwwIjRndajdaTydeWO5pcl1l+LxRdAOC3DWaNbubPnQDabFu3kCyA6nQ43t34NiXFPsgJrAdxGMvXNOtTVDIh7l3A9gMPIaxmQipYnLbBoBoQIHSLvxu1dP+ZpfwPQhUhjJkq2x6yhBQoh2gDYKeAKT8mYgrQiuQyWv45MTOgA3JP4X/Z2M9zJHzammsmnHVIxqxCCY/xkpyix7Mp4XFPPu5Yd0iykByYkflcRybI36nMR2S+AuI8P5+e+cYriwF0ZT3gNireANAvpifGJGzmC5qaTwUQk196ksnf8BogbFL5f96UWULwBpAYYfB1EvSQgeYj8Ckg1UFY6RbEhJWMyuFlPhmQAYS+0VVhf3HnTGt4ZDs4d+xMM1tPvgLhBYWdgjUuUWvdnv4QzBRwTNkxqgPCntX3UKAyPX8yt4Jws5k+rf9zkaqpdFkDcoHBD2EZARByxL1DasxuihgAxGAxIaPk0+sTN4nfIZbpbiGi/Gshanl82QNygxADgwmscB4NcAazPo60PELMpGLde9z6uj+aLGMrF5kFEJFl/8B6SywqIGxTuz+Suv/5ZjoNgX6XYWbsWWxcgocEtMCZhFSKD4lkU97uN0nJLyhtYLjsgblA4D8Z3bJ/mi0e7+X5ejeJ5dUDYXsSEJ2FUlxUw6huziDc45UBEcv3c3iBQg/eKAFLNgePepyUCzuCj9oU4nvtJZcK6AhCTyYJuMU8iKXYGe59cMriHiPybnmsAsCsKiHu3cAqcaxnXXypOwd6sF1DszFAyZmHWqzEifhmaWvn/JeAggNuJiOOTK0ZXHBA3KHynjNsJHuXqHRvbzMxM9G0zr+Kq6Tz3EfH+zpmP0P0lgFQ7QtwttwQAX19jYmt7LxGptwT5uPD6hv+lgLh3C/8nCW7M4UrUeK0XkP2Fz18OiL8W4i85fwNSA8n/AV6gUZDNezugAAAAAElFTkSuQmCC",ya=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,r=void 0===i?32:i,o=n.height,a=void 0===o?32:o,c=n.anchorPoint,u=void 0===c?[16,32]:c,h=n.source,f=void 0===h?va:h,d=n.angle,p=void 0===d?0:d;return s(this,e),(t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{offset:[0,0]}))).width=32,t.height=32,t.anchorPoint=[16,32],t.source=va,t.angle=0,t.width=r,t.height=a,t.anchorPoint=u,t.angle=p,t.source=f,t}return u(e,aa),c(e,[{key:"_getFeatureNode",value:function(t){var e=new Image;return e.src=this.source,e.style.transformOrigin="".concat(this.anchorPoint[0],"px ").concat(this.anchorPoint[1],"px"),e.style.transform="translate(-".concat(this.anchorPoint[0],"px,-").concat(this.anchorPoint[1],"px) rotate(").concat(this.angle,"rad)"),this.width>0&&(e.width=this.width),this.height>0&&(e.height=this.height),this.angle,e}}]),e}();oa(ya,"point.Image",["width","height","anchorPoint","source","angle"]);var ga=40,_a=51,ma=function(t){function e(t,n){var i;return s(this,e),(i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{position:n,height:_a,width:ga,offset:[-ga/2,-_a]}))).opacity=0,i._node=t,i}return u(e,Is),c(e,[{key:"_createNode",value:function(){}},{key:"isReady",get:function(){return!0}}]),e}(),ba=function(t){function e(t){var n;return s(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._staticImage=document.createElement("img"),n._staticImage.src=t,n._dynamicSymbol=new ya({source:t,width:ga,height:_a,anchorPoint:[ga/2,_a]}),n}return u(e,sa),c(e,[{key:"renderFunction",value:function(t,e,n){if(e>=611.4962262812505){var i=t.projectTo(n).position,r=[i[0]/e,-i[1]/e];return[new ma(this._staticImage,r)]}return this._dynamicSymbol.renderFunction(t,e,n)}}]),e}(),wa="\n    <div class=".concat(la.popupContent,">\n        <div class=").concat(la.header,">\n            <div class=").concat(la.btnGroup,">\n                <div class=").concat(la.minimizeBtn,">&#822;</div>\n                <div class=").concat(la.closeBtn,">&#10005;</div>\n            </div>\n            <div class=").concat(la.headerTitle,">{{name}}</div>\n            <div class=").concat(la.headerSubtitle,">{{assortmentOfgoods}}</div>\n        </div>\n        <div>\n            <div class=").concat(la.row,">\n                <div class=").concat(la.address,">\n                    <div class=").concat(la.silverCircle,"></div>\n                    {{address}}\n                </div>\n            </div>\n            <div class=").concat(la.row,">\n                <div class=").concat(la.periodicity,">\n                    <div class=").concat(la.timeIcon,"></div>\n                        {{periodicity}}\n                    </div>\n            </div>\n        </div>\n    </div>\n"),xa=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;s(this,t),this.props=n,this.container=e,this.animationContent=i,this.popup=null,this.closeBtn=null,this.closePopup=this.closePopup.bind(this),this.closePopupCallback=r}return c(t,[{key:"closePopup",value:function(){var t=this;this.popup.classList.add(la.fadeOut),setTimeout(function(){t.container.removeChild(t.popup)},200),this.closePopupCallback()}},{key:"renderPopup",value:function(){var t=po.render(wa,this.props),e=document.createElement("div");e.innerHTML=t,e.classList.add(la.popup),this.animationContent?e.querySelector(":first-child").classList.add(la.fadeIn):e.classList.add(la.fadeIn),this.container.appendChild(e),this.closeBtn=e.querySelector(".".concat(la.closeBtn)),this.popup=e,this.closeBtn.addEventListener("click",this.closePopup)}}]),t}(),ka=function(){function t(){s(this,t),this.init(),this.mapWrapperId=la.mapContainer,this.mapNode=document.getElementById(this.mapWrapperId)}return c(t,[{key:"fetchData",value:function(){var t=this;return vo("".concat("https://msp.everpoint.ru/","static/fair.jsonp"),{jsonpCallbackFunction:"callback"}).then(function(t){return t.json()}).then(function(t){return t}).catch(function(e){var n=document.createElement("div"),i=document.getElementById(t.mapWrapperId),r=po.render(da,{errorText:e});n.innerHTML="".concat(r),i&&i.appendChild(n)})}},{key:"clearSelection",value:function(){this.selectedFeature&&(this.selectedFeature.clearTempSymbol(),this.selectedFeature.__dynamicSymbolRender=null,this._layer.redraw())}},{key:"setSelection",value:function(t){this.selectedFeature=t,this.selectedFeature.__dynamicSymbolRender=null,t.setTempSymbol(this._selectedSymbol),this._layer.redraw()}},{key:"onFeatureClick",value:function(t,e){var n=this;if(this.selectedFeature!==e&&this.mapNode){this.clearSelection();var i=document.querySelector(".".concat(la.popup));i?(this.mapNode.removeChild(i),this.popup=new xa(this.mapNode,t,!0,function(){return n.clearSelection()}).renderPopup()):this.popup=new xa(this.mapNode,t,!1,function(){return n.clearSelection()}).renderPopup(),this.setSelection(e)}}},{key:"onZoom",value:function(t){this.map.zoom(t)}},{key:"initZoomPlugin",value:function(){var t=this,e=document.createElement("div"),n=po.render(fa);if(this.mapNode){e.classList.add(la.zoomPanel),e.innerHTML=n,this.mapNode.appendChild(e);var i=document.querySelector(".".concat(la.zoomIn)),r=document.querySelector(".".concat(la.zoomOut));i.addEventListener("click",function(){return t.onZoom(1)}),r.addEventListener("click",function(){return t.onZoom(-1)})}}},{key:"init",value:function(){var t=this;this.fetchData().then(function(e){var n=function(t){var e=t.position,n=void 0===e?void 0:e,i=t.centerPoint,r=void 0===i?void 0:i,o=t.resolution,s=void 0===o?void 0:o,a=t.crs,c=void 0===a?void 0:a,u=t.layers,h=void 0===u?void 0:u,l=t.wrapper,f=void 0===l?void 0:l,d=t.pluginDefinitions,p=void 0===d?[]:d,v=new cs({crs:c,position:n,centerPoint:r,resolution:s,layers:h}),y=new Ys(v,{wrapper:f}),g=p.map(function(t){var e=t.name;if(!Vs[e])throw new Error("Plugin ".concat(e," is not available."));return new Vs[e](v,y,t.properties)});return{map:v,painter:y,p:g}}({wrapper:la.mapContainer,layers:[new Ks("http://tile1.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=40")],centerPoint:new Ho([60,92]),resolution:9600}).map;n.maxResolution=9601;var i=document.createElement("div");i.innerHTML=po.render(pa),t.mapNode.appendChild(i);var r=new qs,o=new ba("data:image/svg+xml,%3Csvg%20width%3D%2250%22%20height%3D%2262%22%20id%3D%22Layer_1%22%20data-name%3D%22Layer%201%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewBox%3D%220%200%2050%2062%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bopacity%3A0.2%3Bisolation%3Aisolate%3B%7D.cls-2%7Bopacity%3A0.4%3B%7D.cls-3%7Bfill%3A%23fff%3B%7D.cls-4%7Bfill%3A%23668a2c%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EYarmarka%3C%2Ftitle%3E%3Cellipse%20id%3D%22Point%22%20class%3D%22cls-1%22%20cx%3D%2225%22%20cy%3D%2260.5%22%20rx%3D%224%22%20ry%3D%221.5%22%2F%3E%3Cg%20id%3D%22Pin%22%3E%3Cimage%20class%3D%22cls-2%22%20width%3D%2256%22%20height%3D%2263%22%20transform%3D%22translate%28-3%29%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADgAAAA%2FCAYAAAC1gwumAAAACXBIWXMAAAsSAAALEgHS3X78AAAIzklEQVRoQ%2BWaW4hVVRzG%2F2k2ecnUrLziJGYWVJZGaaVI9ZD4YHQhTYMKL10ferB6yKLCCCOyMLqAQgldBAvBMiFNyTDtSgllkngrIm%2BpkzVq9v%2FN%2BtacfbbnzD5nzswcxwY%2BGPZZe63v2%2F%2FrWnvbsWPHrLXgf6eUgqx5KkHmgHKQIt7B0VE4tQji7x1aS3DmgCykBHUQ8U6OGkdnRxdHV0e3FLrqt84a20n3xnlaRGzmgBKFRVGni3R3Ry%2FHOY6%2Bjv6OAY6BwgBd66sxvXRPF82RFFuR0MwBJQirSYg6S6RrHcMclzhGOq5yjHZcLYzWtZEaM0z39NUcUWyNVSg0c0ABcVHYaRbcrKejjwhe6BjhGOsY77jFMdVxt2O6Y4YwXdemasx43TNCc9Rqzp5a4zRLCM3i2SyBlhOH%2BxA3PSw88SGO4Y4xjgmOSY6ZjlmOpxxzHS855jteEebr2lyNmaV7JmmOMZpziNbooTVZuyyRmQMS4sh2PEkSRG8LT%2FlSxzjHzY5pjkcccyRikeN9x3LHSsdqxxphta4t15hFumeO5pimOcdpjVqtydpwgEtJIrMH5MQRD8QGT5SYIY4mWnC5xx3zHG85ljpWOTY4vndscvzi2OrYJmzVtU0as0H3LNUc8zTnDK0xWmuyNhzgUpLIUsWR2c60kP0udlznmGLhaUPmbccKxxeOjRbI73T84djr%2BNOx33FA2K9rezVmp%2B7ZqDlWaM55WmOK1mRtOMAFTpkiSxFXowlJ78QFCYEk8bRjoeMjx3rHT44dIrzPcdBxyPGPo95xOIV6%2FXZIY%2Ffp3h2aa73mXqi1pmttOMAFTpmWbEocwYy%2F4xIDNDEJ4H4LyeEdC%2FHEU9%2Fu2G3BOlEUIo44jjr%2BLYKjGnPYcmIPaK7tmnuN1pqrteEAFzjBDY5FE09T4shYBDV%2BT60arwVecCxxrHNsdvxuweUgh1XSoo5lIC22XnPt19ybtdYSrQ0HuMAJbnAsml2LCaTmkJbJXAT39RZcZK4Wwn22OHY56iwnrFRRWWKj0DqtsUVrsjYc4AInuMERrnBuWqDluya1p9ZCBqMgEwe4yjotiBv9ZcG9osWyBJSKaNHDWmO31mRtOMAFTnCrtcC1oKsWsx7dA%2BbH10nTZLKFFuoXLrPLWk9cMZG7tDYc4AInuMERrnA%2BzoqFrEdmokWii6DQUotI12Q0gp64qLOcuCyilSKKrNPacIALnOAGR7jCGe55VixkPZpc%2BkCeDN0EBZeaRAyQ2Qj%2Bems9y6URLVmvteEAFzjBDY5whTPc86yYFBgzJ6m31kI%2FSDDzpCi81CZigQwXE0oWuZZCTDysDQe4wAlucIRrrQXuDRk1T6Dl3JPugO0KHT31Bj%2BndaK7oABTo%2BqtbcUlRbI2HOACJ7jBEa5whjsaGt20WHJh2zLZQvNLf4jf02VUw3pJgdGKcIET3OAIVzgfl2ySApPuOdbC9oVtzSoLfSKtFN1GWySWYmBtOMAFTnCDI1zHWr6b5gmM2ZOjA4onnQJ7NFyAgKYZpl8km1XDehGsDQe4wAlucIQrnOGOhoZsKm2NTTXdAOcj7L9utbARZa%2FGdqba7pkUmHRTuMERrnCGOxrQ0tCEm%2BUEkmLxYc5J6BJoidiQsmdjW1Nt94yIbgonuMERrnCGOxrQkicwJhhOujgMusfCkcJKC77O3q1a2TONmE3hBDc4whXOcEdDY6IxywmkK2cLwqkXtYXgpS1i902BrXb8JQXCBU5wgyNc4Qx3NKCloMCBGkQLxBnJGk1ywE48gXCCGxzhCme4o%2BH%2FK%2FCkdtGTOskky8QVjjsdzzs%2BdvxsJ0GZSBf62yzsmj%2Bw0POx2Txk1RdYfqFPtWrJncRjFvZcXzl%2Bs7DhPBE6mfJatYRAzjQ4axxs4ZD1Qccbjs8snEbHjW41BTa72U5n0lGOuywc0xGH%2BPoex99WPTdNu2fZ26V0HPJa6wnHYsc3Fty0mjuKmD3L3%2FCm4pDDm%2FMdNzgecrxmwRU40YpWbOtYTFqv%2FCOLIm5KuZhkIUNhxS8tPLl2e%2BgU3TSey1xg4fT4PsfLFupN%2Bz02TB1dYMV%2BjsscNzketXDYSt%2FXPg9%2BEwJjLHIcfp6F%2Fo4ugcL%2FrrXno%2FtULJJRz7byX75kkc8SFhNKy798SVmx3NdnZNekNUsVG8dyX%2Bu%2FPkuJbOoFKO5KTBL0ZFdKCHUSodGiTYlNCjtsOWGt%2BwI0JZKsmvUKm%2BxKCeFJ0wzsEUliJ1o1um8SR%2FQbY3DFtnuFXUBk%2BiME%2FJ8gJ7tSQqiTn1roeGjr6F1xr6RVo%2FtGi3HtgMbwYIgzLNY2HyEUsSQugd8T3GRXSgh1kmaAjmexyH3u%2BM6CVX%2B1YB0sWi%2Fw%2F179xgP52kL6b9vPSAqIxN8JarIrJYQ6iTXpeGjrnnS86FhgISmssiCUo4VozYP6n2vfOj5xvOd41fGstfWHQCmRMbvGT7loBoZaaOvoXWnQOTp42PGMhe3WhxYshNvuFrbp2jLH6xY8gO3ZHVaNT7kKiKTm4CY8Udo6zkFo0HnauO6NFmIUa%2BC6bLl%2BsJAZt%2Bt%2FrmE1Nqtsd3hAPKiLLFisbT%2FGS4lMWpNg7yYy5zoGieS1Flx3toVv0dY6fhTW6hq%2F3e64xkKMkUBwReKMxrkmKczKFNcsgQWEdrScRSFFhusjwmS%2Bey0kDdxxvbBM12ZqDI09D%2BcMq%2FYHsU0ITbouRHFbdtkcYGGpNy3UzOX6f7Z%2BG6Gx3BMTSMXCWkxg3mT5dZPDHxIQWRZLPWchuy7Q%2FzP121CNLamulYvMAeVCImMfi2Uut1DLHrBgtdn6f6J%2B62%2B5frJFxTXwyRpQLizfiiQeTumutJD%2BJwsTdG2wxrSK9Rr4ZA1oDiSSeCTp9JYQ6tooYbiu9bYCxwwticwBzYHllxEEEGM0BYOEfrrWxZpRvMtB5oDmIiUy1sruQjfLlYNWE9fAI2tAJUiI7CgxSTSWg6x5KkHmgEphuToZxXZIXsu6v1JkDmjv%2BA%2FwFXOKonibsAAAAABJRU5ErkJggg%3D%3D%22%2F%3E%3Cpath%20class%3D%22cls-3%22%20d%3D%22M25%2C55.5a1.5%2C1.5%2C0%2C0%2C1-1.45-1.13%2C43.68%2C43.68%2C0%2C0%2C0-1.81-6.06A21.29%2C21.29%2C0%2C0%2C1%2C3.5%2C27%2C21.5%2C21.5%2C0%2C1%2C1%2C28.17%2C48.27a37.72%2C37.72%2C0%2C0%2C0-1.71%2C6.07A1.5%2C1.5%2C0%2C0%2C1%2C25%2C55.5Zm2.58-7.15h0Z%22%2F%3E%3C%2Fg%3E%3Ccircle%20id%3D%22Circle%22%20class%3D%22cls-4%22%20cx%3D%2225%22%20cy%3D%2227%22%20r%3D%2218%22%2F%3E%3Cpath%20id%3D%22Symbol%22%20class%3D%22cls-3%22%20d%3D%22M28.86%2C28.38H27.78L22.29%2C33H18.57l5.58-4.62c-3.42-.09-4.95-2.22-4.95-4.59s1.62-4.59%2C5.19-4.59h7.05V33H28.86Zm0-6.9H24.48c-1.65%2C0-2.7.84-2.7%2C2.31s1.05%2C2.31%2C2.7%2C2.31h4.38Z%22%2F%3E%3C%2Fsvg%3E");t._selectedSymbol=new ba("data:image/svg+xml,%3Csvg%20width%3D%2250%22%20height%3D%2262%22%20id%3D%22Layer_1%22%20data-name%3D%22Layer%201%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewBox%3D%220%200%2050%2062%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bopacity%3A0.2%3Bisolation%3Aisolate%3B%7D.cls-2%7Bopacity%3A0.4%3B%7D.cls-3%7Bfill%3A%23fff%3B%7D.cls-4%7Bfill%3A%23fa0%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EYarmarka_selected%3C%2Ftitle%3E%3Cellipse%20id%3D%22Point%22%20class%3D%22cls-1%22%20cx%3D%2225%22%20cy%3D%2260.5%22%20rx%3D%224%22%20ry%3D%221.5%22%2F%3E%3Cg%20id%3D%22Pin%22%3E%3Cimage%20class%3D%22cls-2%22%20width%3D%2256%22%20height%3D%2263%22%20transform%3D%22translate%28-3%29%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADgAAAA%2FCAYAAAC1gwumAAAACXBIWXMAAAsSAAALEgHS3X78AAAIzklEQVRoQ%2BWaW4hVVRzG%2F2k2ecnUrLziJGYWVJZGaaVI9ZD4YHQhTYMKL10ferB6yKLCCCOyMLqAQgldBAvBMiFNyTDtSgllkngrIm%2BpkzVq9v%2FN%2BtacfbbnzD5nzswcxwY%2BGPZZe63v2%2F%2FrWnvbsWPHrLXgf6eUgqx5KkHmgHKQIt7B0VE4tQji7x1aS3DmgCykBHUQ8U6OGkdnRxdHV0e3FLrqt84a20n3xnlaRGzmgBKFRVGni3R3Ry%2FHOY6%2Bjv6OAY6BwgBd66sxvXRPF82RFFuR0MwBJQirSYg6S6RrHcMclzhGOq5yjHZcLYzWtZEaM0z39NUcUWyNVSg0c0ABcVHYaRbcrKejjwhe6BjhGOsY77jFMdVxt2O6Y4YwXdemasx43TNCc9Rqzp5a4zRLCM3i2SyBlhOH%2BxA3PSw88SGO4Y4xjgmOSY6ZjlmOpxxzHS855jteEebr2lyNmaV7JmmOMZpziNbooTVZuyyRmQMS4sh2PEkSRG8LT%2FlSxzjHzY5pjkcccyRikeN9x3LHSsdqxxphta4t15hFumeO5pimOcdpjVqtydpwgEtJIrMH5MQRD8QGT5SYIY4mWnC5xx3zHG85ljpWOTY4vndscvzi2OrYJmzVtU0as0H3LNUc8zTnDK0xWmuyNhzgUpLIUsWR2c60kP0udlznmGLhaUPmbccKxxeOjRbI73T84djr%2BNOx33FA2K9rezVmp%2B7ZqDlWaM55WmOK1mRtOMAFTpkiSxFXowlJ78QFCYEk8bRjoeMjx3rHT44dIrzPcdBxyPGPo95xOIV6%2FXZIY%2Ffp3h2aa73mXqi1pmttOMAFTpmWbEocwYy%2F4xIDNDEJ4H4LyeEdC%2FHEU9%2Fu2G3BOlEUIo44jjr%2BLYKjGnPYcmIPaK7tmnuN1pqrteEAFzjBDY5FE09T4shYBDV%2BT60arwVecCxxrHNsdvxuweUgh1XSoo5lIC22XnPt19ybtdYSrQ0HuMAJbnAsml2LCaTmkJbJXAT39RZcZK4Wwn22OHY56iwnrFRRWWKj0DqtsUVrsjYc4AInuMERrnBuWqDluya1p9ZCBqMgEwe4yjotiBv9ZcG9osWyBJSKaNHDWmO31mRtOMAFTnCrtcC1oKsWsx7dA%2BbH10nTZLKFFuoXLrPLWk9cMZG7tDYc4AInuMERrnA%2BzoqFrEdmokWii6DQUotI12Q0gp64qLOcuCyilSKKrNPacIALnOAGR7jCGe55VixkPZpc%2BkCeDN0EBZeaRAyQ2Qj%2Bems9y6URLVmvteEAFzjBDY5whTPc86yYFBgzJ6m31kI%2FSDDzpCi81CZigQwXE0oWuZZCTDysDQe4wAlucIRrrQXuDRk1T6Dl3JPugO0KHT31Bj%2BndaK7oABTo%2BqtbcUlRbI2HOACJ7jBEa5whjsaGt20WHJh2zLZQvNLf4jf02VUw3pJgdGKcIET3OAIVzgfl2ySApPuOdbC9oVtzSoLfSKtFN1GWySWYmBtOMAFTnCDI1zHWr6b5gmM2ZOjA4onnQJ7NFyAgKYZpl8km1XDehGsDQe4wAlucIQrnOGOhoZsKm2NTTXdAOcj7L9utbARZa%2FGdqba7pkUmHRTuMERrnCGOxrQ0tCEm%2BUEkmLxYc5J6BJoidiQsmdjW1Nt94yIbgonuMERrnCGOxrQkicwJhhOujgMusfCkcJKC77O3q1a2TONmE3hBDc4whXOcEdDY6IxywmkK2cLwqkXtYXgpS1i902BrXb8JQXCBU5wgyNc4Qx3NKCloMCBGkQLxBnJGk1ywE48gXCCGxzhCme4o%2BH%2FK%2FCkdtGTOskky8QVjjsdzzs%2BdvxsJ0GZSBf62yzsmj%2Bw0POx2Txk1RdYfqFPtWrJncRjFvZcXzl%2Bs7DhPBE6mfJatYRAzjQ4axxs4ZD1Qccbjs8snEbHjW41BTa72U5n0lGOuywc0xGH%2BPoex99WPTdNu2fZ26V0HPJa6wnHYsc3Fty0mjuKmD3L3%2FCm4pDDm%2FMdNzgecrxmwRU40YpWbOtYTFqv%2FCOLIm5KuZhkIUNhxS8tPLl2e%2BgU3TSey1xg4fT4PsfLFupN%2Bz02TB1dYMV%2BjsscNzketXDYSt%2FXPg9%2BEwJjLHIcfp6F%2Fo4ugcL%2FrrXno%2FtULJJRz7byX75kkc8SFhNKy798SVmx3NdnZNekNUsVG8dyX%2Bu%2FPkuJbOoFKO5KTBL0ZFdKCHUSodGiTYlNCjtsOWGt%2BwI0JZKsmvUKm%2BxKCeFJ0wzsEUliJ1o1um8SR%2FQbY3DFtnuFXUBk%2BiME%2FJ8gJ7tSQqiTn1roeGjr6F1xr6RVo%2FtGi3HtgMbwYIgzLNY2HyEUsSQugd8T3GRXSgh1kmaAjmexyH3u%2BM6CVX%2B1YB0sWi%2Fw%2F179xgP52kL6b9vPSAqIxN8JarIrJYQ6iTXpeGjrnnS86FhgISmssiCUo4VozYP6n2vfOj5xvOd41fGstfWHQCmRMbvGT7loBoZaaOvoXWnQOTp42PGMhe3WhxYshNvuFrbp2jLH6xY8gO3ZHVaNT7kKiKTm4CY8Udo6zkFo0HnauO6NFmIUa%2BC6bLl%2BsJAZt%2Bt%2FrmE1Nqtsd3hAPKiLLFisbT%2FGS4lMWpNg7yYy5zoGieS1Flx3toVv0dY6fhTW6hq%2F3e64xkKMkUBwReKMxrkmKczKFNcsgQWEdrScRSFFhusjwmS%2Bey0kDdxxvbBM12ZqDI09D%2BcMq%2FYHsU0ITbouRHFbdtkcYGGpNy3UzOX6f7Z%2BG6Gx3BMTSMXCWkxg3mT5dZPDHxIQWRZLPWchuy7Q%2FzP121CNLamulYvMAeVCImMfi2Uut1DLHrBgtdn6f6J%2B62%2B5frJFxTXwyRpQLizfiiQeTumutJD%2BJwsTdG2wxrSK9Rr4ZA1oDiSSeCTp9JYQ6tooYbiu9bYCxwwticwBzYHllxEEEGM0BYOEfrrWxZpRvMtB5oDmIiUy1sruQjfLlYNWE9fAI2tAJUiI7CgxSTSWg6x5KkHmgEphuToZxXZIXsu6v1JkDmjv%2BA%2FwFXOKonibsAAAAABJRU5ErkJggg%3D%3D%22%2F%3E%3Cpath%20class%3D%22cls-3%22%20d%3D%22M25%2C55.5a1.5%2C1.5%2C0%2C0%2C1-1.45-1.13%2C43.68%2C43.68%2C0%2C0%2C0-1.81-6.06A21.29%2C21.29%2C0%2C0%2C1%2C3.5%2C27%2C21.5%2C21.5%2C0%2C1%2C1%2C28.17%2C48.27a37.72%2C37.72%2C0%2C0%2C0-1.71%2C6.07A1.5%2C1.5%2C0%2C0%2C1%2C25%2C55.5Zm2.58-7.15h0Z%22%2F%3E%3C%2Fg%3E%3Ccircle%20id%3D%22Circle%22%20class%3D%22cls-4%22%20cx%3D%2225%22%20cy%3D%2227%22%20r%3D%2218%22%2F%3E%3Cpath%20id%3D%22Symbol%22%20class%3D%22cls-3%22%20d%3D%22M28.86%2C28.38H27.78L22.29%2C33H18.57l5.58-4.62c-3.42-.09-4.95-2.22-4.95-4.59s1.62-4.59%2C5.19-4.59h7.05V33H28.86Zm0-6.9H24.48c-1.65%2C0-2.7.84-2.7%2C2.31s1.05%2C2.31%2C2.7%2C2.31h4.38Z%22%2F%3E%3C%2Fsvg%3E"),e.features.features.forEach(function(e){var n=e.geometry,i=e.id,s=e.properties,a={id:i,name:s.name,assortmentOfgoods:s.fields[1].value,address:s.address,periodicity:s.fields[0].value},c=new ha(n.coordinates,{symbol:o,crs:wo});c.on("click",function(){return t.onFeatureClick(a,c)}),r.add(c)}),n.addLayer(r),t.map=n,t._layer=r,t.initZoomPlugin()})}}]),t}(),Ca='\n  <div id="'.concat(la.mapContainer,'"/>\n');t.startApp=function(t){if(!t)throw Error("start app need dom node");t.innerHTML=po.render(Ca),new ka},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=rambler-map.js.map
